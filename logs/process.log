2025-07-07 10:04:13,753 INFO Fetched contents from repo in 3.63 seconds
2025-07-07 10:04:13,756 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 10:04:15,867 INFO System prompt send took 2.11 seconds
2025-07-07 10:04:59,137 INFO Prompt send took 45.38 seconds
2025-07-07 10:05:16,607 INFO ValidationAgent response received in 17.47 seconds
2025-07-07 10:05:16,783 INFO Repo analysis completed in 66.66 seconds
2025-07-07 10:06:27,277 INFO Received request for extracting fields
2025-07-07 10:06:27,280 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 10:06:30,618 INFO System prompt send took 3.34 seconds
2025-07-07 10:06:45,231 INFO File send took 14.61 seconds
2025-07-07 10:06:54,994 INFO DocumentAgent response received in 9.76 seconds
2025-07-07 10:06:54,998 INFO Successfully extracted fields
2025-07-07 10:06:54,998 INFO Field extraction completed in 27.72 seconds
2025-07-07 10:07:47,821 INFO DocumentAgent continued chat response received in 1.02 seconds
2025-07-07 10:07:47,842 INFO Chat continuation completed in 1.04 seconds
2025-07-07 11:23:00,520 INFO Prompt send took 0.00 seconds
2025-07-07 11:23:00,523 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 11:23:00,524 INFO Repo analysis completed in 0.00 seconds
2025-07-07 11:23:00,549 ERROR Validation endpoint unexpected error: 500: Unexpected error: Invalid repo url
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid repo url

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Invalid repo url
2025-07-07 11:23:00,580 INFO Prompt send took 0.00 seconds
2025-07-07 11:23:00,580 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 11:23:00,582 ERROR Validation endpoint unexpected error: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 78, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 11:23:00,618 INFO Received request for extracting fields
2025-07-07 11:23:00,626 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 11:23:00,627 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 2 validation errors for ExtractionLLMResponse
response.ExtractionResponseDatawithJSON.rows
  Field required [type=missing, input_value={'response': {'rows': [{'...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response.ExtractionResponseDatawithMessage.message
  Field required [type=missing, input_value={'response': {'rows': [{'...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 11:23:01,694 INFO Received request for extracting fields
2025-07-07 11:23:01,696 ERROR Extraction endpoint client error (DocumentProcessingException): 400: not enough values to unpack (expected 2, got 0)
2025-07-07 11:23:01,742 INFO Received request for extracting fields
2025-07-07 11:23:01,743 ERROR Extraction endpoint client error (DocumentProcessingException): 400: Invalid Excel format
2025-07-07 11:23:01,821 INFO Received request for extracting fields
2025-07-07 11:23:01,831 ERROR Extraction endpoint client error (DocumentProcessingException): 400: File is too large.
2025-07-07 11:23:01,875 INFO DocumentAgent continued chat response received in 0.00 seconds
2025-07-07 11:23:01,876 INFO Chat continuation completed in 0.00 seconds
2025-07-07 11:23:01,900 ERROR Chat continuation unexpected error: 400: Session not found
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 39, in continue_chat
    chat = self.llm_client.get_chat(session_id)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Session not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 58, in continue_chat
    result = service.continue_chat(session_id, prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 49, in continue_chat
    raise DocumentProcessingException(str(e))
src.app.domain.exception.DocumentProcessingException: 400: Session not found
2025-07-07 11:54:08,204 INFO Prompt send took 0.00 seconds
2025-07-07 11:54:08,206 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 11:54:08,207 INFO Repo analysis completed in 0.00 seconds
2025-07-07 11:54:08,230 ERROR Validation endpoint unexpected error: 500: Unexpected error: Invalid repo url
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid repo url

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Invalid repo url
2025-07-07 11:54:08,258 INFO Prompt send took 0.00 seconds
2025-07-07 11:54:08,259 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 11:54:08,261 ERROR Validation endpoint unexpected error: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 78, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 11:54:08,318 INFO Received request for extracting fields
2025-07-07 11:54:08,319 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 11:54:08,320 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 2 validation errors for ExtractionLLMResponse
response.ExtractionResponseDatawithJSON.rows
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response.ExtractionResponseDatawithMessage.message
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 11:54:09,340 INFO Received request for extracting fields
2025-07-07 11:54:09,341 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 415: Unsupported file type
2025-07-07 11:54:09,378 INFO Received request for extracting fields
2025-07-07 11:54:09,379 ERROR Extraction endpoint client error (DocumentProcessingException): 400: Invalid Excel format
2025-07-07 11:54:09,438 INFO Received request for extracting fields
2025-07-07 11:54:09,447 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 413: File is too large.
2025-07-07 11:54:09,496 INFO DocumentAgent continued chat response received in 0.00 seconds
2025-07-07 11:54:09,496 INFO Chat continuation completed in 0.00 seconds
2025-07-07 11:54:09,517 ERROR Chat continuation unexpected error: 400: Session not found
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 39, in continue_chat
    chat = self.llm_client.get_chat(session_id)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Session not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 58, in continue_chat
    result = service.continue_chat(session_id, prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 49, in continue_chat
    raise DocumentProcessingException(str(e))
src.app.domain.exception.DocumentProcessingException: 400: Session not found
2025-07-07 12:16:00,506 INFO Received request for extracting fields
2025-07-07 12:16:00,509 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 12:16:05,743 INFO System prompt send took 5.23 seconds
2025-07-07 12:16:08,331 INFO File send took 2.59 seconds
2025-07-07 12:16:12,732 INFO DocumentAgent response received in 4.40 seconds
2025-07-07 12:16:12,756 INFO Successfully extracted fields
2025-07-07 12:16:12,758 INFO Field extraction completed in 12.25 seconds
2025-07-07 12:19:52,818 INFO Received request for extracting fields
2025-07-07 12:19:52,820 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 12:19:56,825 INFO System prompt send took 4.00 seconds
2025-07-07 12:19:58,845 INFO File send took 2.01 seconds
2025-07-07 12:20:00,711 INFO DocumentAgent response received in 1.87 seconds
2025-07-07 12:20:00,713 INFO Successfully extracted fields
2025-07-07 12:20:00,714 INFO Field extraction completed in 7.89 seconds
2025-07-07 12:22:40,644 INFO Received request for extracting fields
2025-07-07 12:22:40,648 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 12:22:45,427 INFO System prompt send took 4.78 seconds
2025-07-07 12:22:47,411 INFO File send took 1.98 seconds
2025-07-07 12:22:49,191 INFO DocumentAgent response received in 1.78 seconds
2025-07-07 12:22:49,196 INFO Successfully extracted fields
2025-07-07 12:22:49,197 INFO Field extraction completed in 8.55 seconds
2025-07-07 12:33:56,925 INFO Received request for extracting fields
2025-07-07 12:33:56,928 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 12:34:01,668 INFO System prompt send took 4.74 seconds
2025-07-07 12:34:06,759 INFO File send took 5.09 seconds
2025-07-07 12:34:11,418 INFO DocumentAgent response received in 4.66 seconds
2025-07-07 12:34:11,421 INFO Successfully extracted fields
2025-07-07 12:34:11,422 INFO Field extraction completed in 14.50 seconds
2025-07-07 13:02:14,954 INFO Prompt send took 0.00 seconds
2025-07-07 13:02:14,956 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:02:14,958 INFO Repo analysis completed in 0.01 seconds
2025-07-07 13:02:14,979 ERROR Validation endpoint unexpected error: 500: Unexpected error: Invalid repo url
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid repo url

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Invalid repo url
2025-07-07 13:02:15,004 INFO Prompt send took 0.00 seconds
2025-07-07 13:02:15,004 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:02:15,008 ERROR Validation endpoint unexpected error: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 78, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 13:02:15,033 INFO Received request for extracting fields
2025-07-07 13:02:15,033 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 13:02:15,035 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 2 validation errors for ExtractionLLMResponse
response.ExtractionResponseDatawithJSON.rows
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response.ExtractionResponseDatawithMessage.message
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 13:02:15,755 INFO Received request for extracting fields
2025-07-07 13:02:15,756 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 415: Unsupported file type
2025-07-07 13:02:15,786 INFO Received request for extracting fields
2025-07-07 13:02:15,787 ERROR Extraction endpoint client error (DocumentProcessingException): 400: Invalid Excel format
2025-07-07 13:02:15,830 INFO Received request for extracting fields
2025-07-07 13:02:15,840 ERROR Extraction endpoint client error (DocumentProcessingException): 400: 413: File is too large.
2025-07-07 13:02:15,873 INFO Chat continuation initiated
2025-07-07 13:02:15,874 INFO DocumentAgent continued chat response received in 0.00 seconds
2025-07-07 13:02:15,874 INFO Chat continuation completed in 0.00 seconds
2025-07-07 13:02:15,890 INFO Chat continuation initiated
2025-07-07 13:02:15,891 ERROR Chat continuation unexpected error: 400: Session not found
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 39, in continue_chat
    chat = self.llm_client.get_chat(session_id)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Session not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 59, in continue_chat
    result = service.continue_chat(session_id, prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 49, in continue_chat
    raise DocumentProcessingException(str(e))
src.app.domain.exception.DocumentProcessingException: 400: Session not found
2025-07-07 13:05:09,708 INFO Prompt send took 0.00 seconds
2025-07-07 13:05:09,709 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:05:09,712 INFO Repo analysis completed in 0.00 seconds
2025-07-07 13:05:09,734 ERROR Validation endpoint unexpected error: 500: Unexpected error: Invalid repo url
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid repo url

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Invalid repo url
2025-07-07 13:05:09,757 INFO Prompt send took 0.00 seconds
2025-07-07 13:05:09,758 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:05:09,762 ERROR Validation endpoint unexpected error: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 78, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 13:05:09,790 INFO Received request for extracting fields
2025-07-07 13:05:09,791 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 13:05:09,792 ERROR Extraction endpoint unexpected error: 2 validation errors for ExtractionLLMResponse
response.ExtractionResponseDatawithJSON.rows
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response.ExtractionResponseDatawithMessage.message
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 34, in extract_fields
    raise e
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 32, in extract_fields
    return ExtractionLLMResponse(session_id=session_id, type="document_extraction", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for ExtractionLLMResponse
response.ExtractionResponseDatawithJSON.rows
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
response.ExtractionResponseDatawithMessage.message
  Field required [type=missing, input_value={'session_id': 'sid', 'ty...ex': 0, 'fields': []}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 13:05:10,516 INFO Received request for extracting fields
2025-07-07 13:05:10,517 ERROR Extraction endpoint client error (InvalidFileTypeError): 415: Unsupported file type
2025-07-07 13:05:10,534 INFO Received request for extracting fields
2025-07-07 13:05:10,535 ERROR Extraction endpoint unexpected error: Invalid Excel format
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 34, in extract_fields
    raise e
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 16, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid Excel format
2025-07-07 13:05:10,583 INFO Received request for extracting fields
2025-07-07 13:05:10,592 ERROR Extraction endpoint client error (FileTooLargeError): 413: File is too large.
2025-07-07 13:05:10,612 INFO Chat continuation initiated
2025-07-07 13:05:10,613 INFO DocumentAgent continued chat response received in 0.00 seconds
2025-07-07 13:05:10,614 INFO Chat continuation completed in 0.00 seconds
2025-07-07 13:05:10,636 INFO Chat continuation initiated
2025-07-07 13:05:10,637 ERROR Chat continuation unexpected error: Session not found
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 56, in continue_chat
    result = service.continue_chat(session_id, prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 48, in continue_chat
    raise e
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 38, in continue_chat
    chat = self.llm_client.get_chat(session_id)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Session not found
2025-07-07 13:17:09,266 INFO Prompt send took 0.00 seconds
2025-07-07 13:17:09,268 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:17:09,270 INFO Repo analysis completed in 0.00 seconds
2025-07-07 13:17:09,296 ERROR Validation endpoint unexpected error: 500: Unexpected error: Invalid repo url
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid repo url

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Invalid repo url
2025-07-07 13:17:09,321 INFO Prompt send took 0.00 seconds
2025-07-07 13:17:09,322 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:17:09,327 ERROR Validation endpoint unexpected error: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 78, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 1 validation error for ValidationLLMResponse
response.entities
  Field required [type=missing, input_value={'message': 'not a json'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-07 13:17:09,368 INFO Received request for extracting fields
2025-07-07 13:17:09,368 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 13:17:09,368 INFO Successfully extracted fields
2025-07-07 13:17:09,369 INFO Field extraction completed in 0.00 seconds
2025-07-07 13:17:09,388 INFO Received request for extracting fields
2025-07-07 13:17:09,389 ERROR Extraction endpoint client error (InvalidFileTypeError): 415: Unsupported file type
2025-07-07 13:17:09,406 INFO Received request for extracting fields
2025-07-07 13:17:09,406 ERROR Extraction endpoint unexpected error: Invalid Excel format
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 34, in extract_fields
    raise e
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 16, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Invalid Excel format
2025-07-07 13:17:09,459 INFO Received request for extracting fields
2025-07-07 13:17:09,468 ERROR Extraction endpoint client error (FileTooLargeError): 413: File is too large.
2025-07-07 13:17:09,487 INFO Chat continuation initiated
2025-07-07 13:17:09,488 INFO DocumentAgent continued chat response received in 0.00 seconds
2025-07-07 13:17:09,488 INFO Chat continuation completed in 0.00 seconds
2025-07-07 13:17:09,505 INFO Chat continuation initiated
2025-07-07 13:17:09,506 ERROR Chat continuation unexpected error: Session not found
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 56, in continue_chat
    result = service.continue_chat(session_id, prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 48, in continue_chat
    raise e
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 38, in continue_chat
    chat = self.llm_client.get_chat(session_id)
  File "C:\Python313\Lib\unittest\mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\unittest\mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Session not found
2025-07-07 13:17:26,431 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 13:17:26,442 INFO Prompt send took 0.00 seconds
2025-07-07 13:17:26,444 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:17:28,388 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 13:17:28,390 INFO System prompt send took 0.00 seconds
2025-07-07 13:17:28,404 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 13:17:28,405 INFO System prompt send took 0.00 seconds
2025-07-07 13:17:28,406 INFO File send took 0.00 seconds
2025-07-07 13:17:28,420 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 13:17:28,421 INFO System prompt send took 0.00 seconds
2025-07-07 13:22:24,931 INFO DocumentAgent response received in 0.00 seconds
2025-07-07 13:22:24,940 INFO Prompt send took 0.00 seconds
2025-07-07 13:22:24,941 INFO ValidationAgent response received in 0.00 seconds
2025-07-07 13:22:25,814 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 13:22:25,815 INFO System prompt send took 0.00 seconds
2025-07-07 13:22:25,828 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 13:22:25,829 INFO System prompt send took 0.00 seconds
2025-07-07 13:22:25,829 INFO File send took 0.00 seconds
2025-07-07 13:22:25,843 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 13:22:25,844 INFO System prompt send took 0.00 seconds
2025-07-07 13:33:17,740 INFO Received request for extracting fields
2025-07-07 13:33:17,741 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 13:33:21,574 INFO System prompt send took 3.83 seconds
2025-07-07 13:33:27,171 INFO File send took 5.60 seconds
2025-07-07 13:33:32,055 INFO DocumentAgent response received in 4.88 seconds
2025-07-07 13:33:32,057 INFO Successfully extracted fields
2025-07-07 13:33:32,058 INFO Field extraction completed in 14.32 seconds
2025-07-07 13:33:57,752 INFO Chat continuation initiated
2025-07-07 13:34:03,099 INFO DocumentAgent continued chat response received in 5.35 seconds
2025-07-07 13:34:03,101 INFO Chat continuation completed in 5.35 seconds
2025-07-07 13:35:28,554 ERROR Validation endpoint unexpected error: 500: Unexpected error: list index out of range
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 121, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 41, in parse_repo_url
    owner = parts[-2]
            ~~~~~^^^^
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: list index out of range
2025-07-07 13:40:38,070 ERROR Validation endpoint unexpected error: 500: Unexpected error: list index out of range
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 121, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 41, in parse_repo_url
    owner = parts[-2]
            ~~~~~^^^^
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: list index out of range
2025-07-07 13:47:22,778 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 13:52:30,168 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 13:52:35,323 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 13:56:32,178 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 13:58:16,071 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 13:58:51,323 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:02:19,351 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:03:16,239 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:10:21,309 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:10:26,223 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:10:36,458 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:11:02,357 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:11:30,896 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:11:47,449 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:16:04,810 INFO Fetched contents from repo in 7.30 seconds
2025-07-07 14:16:04,811 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:16:06,084 INFO System prompt send took 1.27 seconds
2025-07-07 14:16:58,577 INFO Prompt send took 53.77 seconds
2025-07-07 14:17:16,850 INFO ValidationAgent response received in 18.27 seconds
2025-07-07 14:17:16,852 INFO Repo analysis completed in 79.35 seconds
2025-07-07 14:23:18,482 INFO Received request for extracting fields
2025-07-07 14:23:18,483 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 14:23:23,364 INFO System prompt send took 4.88 seconds
2025-07-07 14:23:29,607 INFO File send took 6.24 seconds
2025-07-07 14:23:34,726 INFO DocumentAgent response received in 5.12 seconds
2025-07-07 14:23:34,727 INFO Successfully extracted fields
2025-07-07 14:23:34,728 INFO Field extraction completed in 16.25 seconds
2025-07-07 14:24:05,303 INFO Received request for extracting fields
2025-07-07 14:24:05,304 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 14:24:08,965 INFO System prompt send took 3.66 seconds
2025-07-07 14:24:14,091 INFO File send took 5.13 seconds
2025-07-07 14:24:19,230 INFO DocumentAgent response received in 5.14 seconds
2025-07-07 14:24:19,233 INFO Successfully extracted fields
2025-07-07 14:24:19,234 INFO Field extraction completed in 13.93 seconds
2025-07-07 14:24:48,433 INFO Received request for extracting fields
2025-07-07 14:24:48,434 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 14:24:51,492 INFO System prompt send took 3.06 seconds
2025-07-07 14:24:56,350 INFO File send took 4.86 seconds
2025-07-07 14:25:01,443 INFO DocumentAgent response received in 5.09 seconds
2025-07-07 14:25:01,445 INFO Successfully extracted fields
2025-07-07 14:25:01,446 INFO Field extraction completed in 13.01 seconds
2025-07-07 14:25:08,941 INFO Received request for extracting fields
2025-07-07 14:25:08,942 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-07 14:25:12,330 INFO System prompt send took 3.39 seconds
2025-07-07 14:25:17,132 INFO File send took 4.80 seconds
2025-07-07 14:25:22,199 INFO DocumentAgent response received in 5.07 seconds
2025-07-07 14:25:22,200 INFO Successfully extracted fields
2025-07-07 14:25:22,201 INFO Field extraction completed in 13.26 seconds
2025-07-07 14:25:41,443 INFO Fetched contents from repo in 7.55 seconds
2025-07-07 14:25:41,444 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:25:42,401 INFO System prompt send took 0.96 seconds
2025-07-07 14:26:29,171 INFO Prompt send took 47.73 seconds
2025-07-07 14:26:48,684 INFO ValidationAgent response received in 19.51 seconds
2025-07-07 14:26:48,685 INFO Repo analysis completed in 74.79 seconds
2025-07-07 14:26:48,693 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:26:48,697 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:27:03,202 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:29:35,131 INFO Fetched contents from repo in 5.71 seconds
2025-07-07 14:29:35,132 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:29:37,932 INFO System prompt send took 2.80 seconds
2025-07-07 14:30:23,651 INFO Prompt send took 48.52 seconds
2025-07-07 14:30:43,249 INFO ValidationAgent response received in 19.60 seconds
2025-07-07 14:30:43,252 INFO Repo analysis completed in 73.83 seconds
2025-07-07 14:30:50,563 INFO Fetched contents from repo in 7.30 seconds
2025-07-07 14:30:50,564 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:30:51,285 INFO System prompt send took 0.72 seconds
2025-07-07 14:31:37,102 INFO Prompt send took 46.54 seconds
2025-07-07 14:31:55,958 INFO ValidationAgent response received in 18.85 seconds
2025-07-07 14:31:55,960 INFO Repo analysis completed in 72.70 seconds
2025-07-07 14:32:46,903 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:32:53,173 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:34:01,223 INFO Fetched contents from repo in 3.69 seconds
2025-07-07 14:34:01,226 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:34:01,929 INFO System prompt send took 0.70 seconds
2025-07-07 14:34:31,369 ERROR Validation endpoint unexpected error: 500: Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 61, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
2025-07-07 14:34:52,135 INFO Fetched contents from repo in 2.91 seconds
2025-07-07 14:34:52,136 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-07 14:34:52,804 INFO System prompt send took 0.67 seconds
2025-07-07 14:34:53,772 ERROR Validation endpoint unexpected error: 500: Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 6
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 61, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 6
}
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 6
}
]
2025-07-07 14:36:22,841 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:36:39,360 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: htttp. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:43:35,366 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:47:01,978 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: http. Error: Invalid URL format. Expected at least owner and repo.
2025-07-07 14:48:36,700 ERROR Validation endpoint unexpected error: 500: Unexpected error: Failed to parse repository URL: ht. Error: Invalid URL format. Expected at least owner and repo.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 43, in parse_repo_url
    raise ValueError("Invalid URL format. Expected at least owner and repo.")
ValueError: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 24, in analyze_repo
    files = self.repo_client.get_files_from_repo(repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 134, in get_files_from_repo
    owner, repo = self.parse_repo_url(url)
                  ~~~~~~~~~~~~~~~~~~~^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\repo_api_client.py", line 57, in parse_repo_url
    raise ValueError(f"Failed to parse repository URL: {url}. Error: {str(e)}")
ValueError: Failed to parse repository URL: ht. Error: Invalid URL format. Expected at least owner and repo.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 82, in analyze_repo
    raise HTTPException(status_code=500, detail=f"Unexpected error: {str(e)}")
fastapi.exceptions.HTTPException: 500: Unexpected error: Failed to parse repository URL: ht. Error: Invalid URL format. Expected at least owner and repo.
2025-07-08 11:04:08,659 INFO Fetched contents from repo in 8.64 seconds
2025-07-08 11:04:08,680 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 11:04:11,713 INFO System prompt send took 3.03 seconds
2025-07-08 11:05:01,157 INFO Prompt send took 52.48 seconds
2025-07-08 11:05:20,380 INFO ValidationAgent response received in 19.22 seconds
2025-07-08 11:05:20,385 INFO Repo analysis completed in 80.37 seconds
2025-07-08 11:06:51,334 ERROR Validation endpoint client exception (RepoAnalysis): 
2025-07-08 11:14:51,991 ERROR Validation endpoint client exception (RepoAnalysis): 
2025-07-08 11:15:05,957 ERROR Validation endpoint client exception (RepoAnalysis): 
2025-07-08 11:20:33,706 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 11:26:00,782 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 11:26:13,651 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 11:26:17,626 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 11:26:50,748 ERROR Validation endpoint client exception (UnsupportedRepoURL): 
2025-07-08 11:27:28,208 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 11:30:02,866 ERROR Validation endpoint client exception (UnsupportedRepoURL): 
2025-07-08 11:35:09,063 ERROR Validation endpoint client exception (UnsupportedRepoURL): Not a URL
2025-07-08 11:35:21,467 ERROR Validation endpoint client exception (UnsupportedRepoURL): 
2025-07-08 11:39:38,743 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-08 11:39:50,218 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-08 11:40:08,411 INFO Chat continuation initiated
2025-07-08 11:40:08,412 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-08 11:41:32,480 INFO Received request for extracting fields
2025-07-08 11:41:32,483 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 13:31:45,223 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-08 13:31:56,705 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-08 13:32:06,539 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-08 13:32:19,835 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-08 13:32:31,578 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-08 13:34:06,467 INFO Fetched contents from repo in 5.96 seconds
2025-07-08 13:34:06,502 INFO ValidationAgent and chat initialization took 0.03 seconds
2025-07-08 13:34:07,860 INFO System prompt send took 1.36 seconds
2025-07-08 13:34:58,447 INFO Prompt send took 51.98 seconds
2025-07-08 13:35:17,466 INFO ValidationAgent response received in 19.02 seconds
2025-07-08 13:35:17,487 INFO Repo analysis completed in 76.98 seconds
2025-07-08 13:37:32,322 INFO Received request for extracting fields
2025-07-08 13:37:32,324 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 13:38:28,770 INFO Received request for extracting fields
2025-07-08 13:38:28,770 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 13:39:10,425 INFO Received request for extracting fields
2025-07-08 13:39:10,434 INFO DocumentAgent and chat initialization took 0.01 seconds
2025-07-08 13:39:14,204 INFO System prompt send took 3.77 seconds
2025-07-08 13:39:30,132 INFO File send took 15.93 seconds
2025-07-08 13:39:40,666 INFO DocumentAgent response received in 10.53 seconds
2025-07-08 13:39:40,674 INFO Successfully extracted fields
2025-07-08 13:39:40,675 INFO Field extraction completed in 30.25 seconds
2025-07-08 13:40:28,346 INFO Chat continuation initiated
2025-07-08 13:40:38,987 INFO DocumentAgent continued chat response received in 10.64 seconds
2025-07-08 13:40:38,989 INFO Chat continuation completed in 10.64 seconds
2025-07-08 13:41:17,856 INFO Chat continuation initiated
2025-07-08 13:41:29,210 INFO DocumentAgent continued chat response received in 11.35 seconds
2025-07-08 13:41:29,211 INFO Chat continuation completed in 11.36 seconds
2025-07-08 13:50:24,633 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-08 13:50:24,645 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-08 13:50:39,424 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-08 13:51:22,040 INFO Fetched contents from repo in 10.95 seconds
2025-07-08 13:51:22,041 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 13:51:24,804 INFO System prompt send took 2.76 seconds
2025-07-08 13:52:12,002 INFO Prompt send took 49.96 seconds
2025-07-08 13:52:30,901 INFO ValidationAgent response received in 18.90 seconds
2025-07-08 13:52:30,942 INFO Repo analysis completed in 79.85 seconds
2025-07-08 13:53:50,136 INFO Received request for extracting fields
2025-07-08 13:53:50,136 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 13:53:54,379 INFO System prompt send took 4.24 seconds
2025-07-08 13:53:59,495 INFO File send took 5.11 seconds
2025-07-08 13:54:24,479 INFO DocumentAgent response received in 24.98 seconds
2025-07-08 13:54:24,518 INFO Successfully extracted fields
2025-07-08 13:54:24,519 INFO Field extraction completed in 34.38 seconds
2025-07-08 13:54:48,018 INFO Chat continuation initiated
2025-07-08 13:54:50,692 INFO DocumentAgent continued chat response received in 2.67 seconds
2025-07-08 13:54:50,693 INFO Chat continuation completed in 2.68 seconds
2025-07-08 13:55:19,151 INFO Chat continuation initiated
2025-07-08 13:55:25,101 INFO DocumentAgent continued chat response received in 5.95 seconds
2025-07-08 13:55:25,102 INFO Chat continuation completed in 5.95 seconds
2025-07-08 13:58:30,615 INFO Received request for extracting fields
2025-07-08 13:58:30,616 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 13:58:34,359 INFO System prompt send took 3.74 seconds
2025-07-08 13:58:39,865 INFO File send took 5.51 seconds
2025-07-08 13:58:44,679 INFO DocumentAgent response received in 4.81 seconds
2025-07-08 13:58:44,680 INFO Successfully extracted fields
2025-07-08 13:58:44,681 INFO Field extraction completed in 14.07 seconds
2025-07-08 13:59:09,906 INFO Chat continuation initiated
2025-07-08 13:59:15,706 INFO DocumentAgent continued chat response received in 5.80 seconds
2025-07-08 13:59:15,707 INFO Chat continuation completed in 5.80 seconds
2025-07-08 14:00:46,348 INFO Received request for extracting fields
2025-07-08 14:00:46,349 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 14:05:25,470 INFO Received request for extracting fields
2025-07-08 14:05:25,471 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 14:06:09,099 INFO Received request for extracting fields
2025-07-08 14:06:09,099 ERROR Extraction endpoint client exception (InvalidFileType): 
2025-07-08 14:06:36,076 INFO Received request for extracting fields
2025-07-08 14:06:36,077 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 14:06:41,762 INFO System prompt send took 5.69 seconds
2025-07-08 14:06:46,780 INFO File send took 5.02 seconds
2025-07-08 14:06:52,823 INFO DocumentAgent response received in 6.04 seconds
2025-07-08 14:06:52,825 INFO Successfully extracted fields
2025-07-08 14:06:52,826 INFO Field extraction completed in 16.75 seconds
2025-07-08 14:10:37,387 INFO Fetched contents from repo in 6.25 seconds
2025-07-08 14:10:37,388 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 14:10:38,103 INFO System prompt send took 0.71 seconds
2025-07-08 14:11:25,933 INFO Prompt send took 48.55 seconds
2025-07-08 14:11:44,767 INFO ValidationAgent response received in 18.83 seconds
2025-07-08 14:11:44,770 INFO Repo analysis completed in 73.64 seconds
2025-07-08 14:15:33,632 INFO Fetched contents from repo in 3.90 seconds
2025-07-08 14:15:33,634 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 14:15:34,450 INFO System prompt send took 0.82 seconds
2025-07-08 14:16:23,617 INFO Prompt send took 49.98 seconds
2025-07-08 14:16:42,445 INFO ValidationAgent response received in 18.83 seconds
2025-07-08 14:16:42,446 INFO Repo analysis completed in 72.71 seconds
2025-07-08 14:19:44,649 INFO Received request for extracting fields
2025-07-08 14:19:44,650 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 14:19:49,020 INFO System prompt send took 4.37 seconds
2025-07-08 14:19:55,368 INFO File send took 6.35 seconds
2025-07-08 14:20:00,487 INFO DocumentAgent response received in 5.12 seconds
2025-07-08 14:20:00,489 INFO Successfully extracted fields
2025-07-08 14:20:00,489 INFO Field extraction completed in 15.84 seconds
2025-07-08 14:23:55,483 INFO Received request for extracting fields
2025-07-08 14:23:55,484 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 14:23:59,363 INFO System prompt send took 3.88 seconds
2025-07-08 14:24:04,510 INFO File send took 5.15 seconds
2025-07-08 14:24:10,238 INFO DocumentAgent response received in 5.73 seconds
2025-07-08 14:24:10,239 INFO Successfully extracted fields
2025-07-08 14:24:10,239 INFO Field extraction completed in 14.76 seconds
2025-07-08 14:25:54,917 INFO Received request for extracting fields
2025-07-08 14:25:54,918 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 14:25:58,790 INFO System prompt send took 3.87 seconds
2025-07-08 14:26:04,216 INFO File send took 5.43 seconds
2025-07-08 14:26:11,384 INFO DocumentAgent response received in 7.17 seconds
2025-07-08 14:26:11,386 INFO Successfully extracted fields
2025-07-08 14:26:11,386 INFO Field extraction completed in 16.47 seconds
2025-07-08 14:28:12,502 INFO Received request for extracting fields
2025-07-08 14:28:12,503 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 14:28:17,644 INFO System prompt send took 5.14 seconds
2025-07-08 14:28:24,300 INFO File send took 6.65 seconds
2025-07-08 14:28:30,545 INFO DocumentAgent response received in 6.24 seconds
2025-07-08 14:28:30,546 INFO Successfully extracted fields
2025-07-08 14:28:30,546 INFO Field extraction completed in 18.04 seconds
2025-07-08 14:32:31,275 INFO Chat continuation initiated
2025-07-08 14:32:37,580 INFO DocumentAgent continued chat response received in 6.30 seconds
2025-07-08 14:32:37,581 INFO Chat continuation completed in 6.31 seconds
2025-07-08 14:42:39,865 INFO Fetched contents from repo in 7.64 seconds
2025-07-08 14:42:39,867 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 14:42:42,416 INFO System prompt send took 2.55 seconds
2025-07-08 14:43:13,687 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 59, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 46
}
]
2025-07-08 14:45:07,013 INFO Fetched contents from repo in 4.44 seconds
2025-07-08 14:45:07,016 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-08 14:45:09,054 INFO System prompt send took 2.04 seconds
2025-07-08 14:45:09,465 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 59, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
2025-07-08 15:10:44,565 INFO Received request for extracting fields
2025-07-08 15:10:44,566 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 15:10:49,467 INFO System prompt send took 4.90 seconds
2025-07-08 15:11:06,569 INFO File send took 17.10 seconds
2025-07-08 15:11:18,856 INFO DocumentAgent response received in 12.29 seconds
2025-07-08 15:11:18,857 INFO Successfully extracted fields
2025-07-08 15:11:18,858 INFO Field extraction completed in 34.29 seconds
2025-07-08 15:44:54,728 INFO Received request for extracting fields
2025-07-08 15:44:54,729 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-08 15:49:57,904 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 22, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-07-09 09:42:01,969 INFO Fetched contents from repo in 8.66 seconds
2025-07-09 09:42:01,972 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:42:06,086 INFO System prompt send took 4.11 seconds
2025-07-09 09:42:07,000 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 51
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 28, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 81, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 51
}
]
2025-07-09 09:42:38,013 INFO Fetched contents from repo in 10.63 seconds
2025-07-09 09:42:38,014 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:42:39,652 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 28, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 73, in analyze_repo
    session_id, chat = self.llm_client.start_session("ValidationAgent")
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
2025-07-09 09:42:46,002 INFO Fetched contents from repo in 6.34 seconds
2025-07-09 09:42:46,002 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:42:46,514 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 28, in analyze_repo
    result = service.analyze_repo(req.repo_url)
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 73, in analyze_repo
    session_id, chat = self.llm_client.start_session("ValidationAgent")
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-07-09 09:44:38,438 INFO Fetched contents from repo in 5.25 seconds
2025-07-09 09:44:38,440 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:44:41,304 INFO System prompt send took 2.86 seconds
2025-07-09 09:45:28,512 INFO Prompt send took 50.07 seconds
2025-07-09 09:45:47,251 INFO ValidationAgent response received in 18.74 seconds
2025-07-09 09:45:47,291 INFO Repo analysis completed in 74.10 seconds
2025-07-09 09:52:59,608 INFO Repo analysis completed in 0.00 seconds
2025-07-09 09:55:01,134 INFO Fetched contents from repo in 10.72 seconds
2025-07-09 09:55:01,135 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:55:03,796 INFO System prompt send took 2.66 seconds
2025-07-09 09:55:43,529 INFO Fetched contents from repo in 8.80 seconds
2025-07-09 09:55:43,530 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 09:55:45,166 INFO System prompt send took 1.64 seconds
2025-07-09 09:56:18,223 INFO Prompt send took 77.09 seconds
2025-07-09 09:56:52,136 INFO ValidationAgent response received in 33.91 seconds
2025-07-09 09:56:52,137 INFO Repo analysis completed in 121.72 seconds
2025-07-09 09:57:29,525 INFO Prompt send took 106.00 seconds
2025-07-09 09:57:48,894 INFO ValidationAgent response received in 19.37 seconds
2025-07-09 09:57:48,896 INFO Repo analysis completed in 134.17 seconds
2025-07-09 10:05:36,732 INFO Fetched contents from repo in 9.90 seconds
2025-07-09 10:05:36,733 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 10:05:40,828 INFO System prompt send took 4.09 seconds
2025-07-09 10:06:47,303 INFO Prompt send took 70.57 seconds
2025-07-09 10:12:16,416 INFO Fetched contents from repo in 2.99 seconds
2025-07-09 10:12:16,416 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 10:12:17,208 INFO System prompt send took 0.79 seconds
2025-07-09 10:13:07,826 INFO Prompt send took 51.41 seconds
2025-07-09 10:13:26,632 INFO ValidationAgent response received in 18.81 seconds
2025-07-09 10:13:26,634 INFO Repo analysis completed in 73.21 seconds
2025-07-09 10:14:22,363 INFO Fetched contents from repo in 1.07 seconds
2025-07-09 10:14:22,365 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 10:14:23,016 INFO System prompt send took 0.65 seconds
2025-07-09 10:15:09,124 INFO Prompt send took 46.76 seconds
2025-07-09 10:15:28,021 INFO ValidationAgent response received in 18.90 seconds
2025-07-09 10:15:28,022 INFO Repo analysis completed in 66.73 seconds
2025-07-09 10:15:56,892 INFO Fetched contents from repo in 0.89 seconds
2025-07-09 10:15:56,894 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 10:15:57,532 INFO System prompt send took 0.64 seconds
2025-07-09 10:16:44,340 INFO Prompt send took 47.45 seconds
2025-07-09 10:17:03,246 INFO ValidationAgent response received in 18.91 seconds
2025-07-09 10:17:03,247 INFO Repo analysis completed in 67.25 seconds
2025-07-09 10:31:30,454 INFO Received request for extracting fields
2025-07-09 10:31:30,456 INFO Successfully extracted fields
2025-07-09 10:31:30,457 INFO Field extraction completed in 0.00 seconds
2025-07-09 10:32:45,054 INFO Received request for extracting fields
2025-07-09 10:32:45,055 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 10:32:49,483 INFO System prompt send took 4.43 seconds
2025-07-09 10:32:55,782 INFO File send took 6.30 seconds
2025-07-09 10:33:01,029 INFO DocumentAgent response received in 5.25 seconds
2025-07-09 10:33:01,068 INFO Successfully extracted fields
2025-07-09 10:33:01,069 INFO Field extraction completed in 16.01 seconds
2025-07-09 10:39:26,045 INFO Received request for extracting fields
2025-07-09 10:39:26,046 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 10:39:27,614 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 31
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 29, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 25, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 31
}
]
2025-07-09 10:48:32,565 INFO Received request for extracting fields
2025-07-09 10:48:32,567 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 10:48:35,997 INFO System prompt send took 3.43 seconds
2025-07-09 10:48:41,990 INFO File send took 5.99 seconds
2025-07-09 10:48:41,992 ERROR Extraction endpoint unexpected error: object tuple can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 29, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 51, in extract_fields
    return await task
           ^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 39, in run_extraction
    response = await (chat.send_message, prompt.strip())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object tuple can't be used in 'await' expression
2025-07-09 10:49:25,536 INFO Fetched contents from repo in 3.12 seconds
2025-07-09 10:49:25,538 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 10:49:26,201 INFO System prompt send took 0.66 seconds
2025-07-09 10:50:14,705 INFO Prompt send took 49.17 seconds
2025-07-09 10:50:37,096 INFO ValidationAgent response received in 22.39 seconds
2025-07-09 10:50:37,098 INFO Repo analysis completed in 74.68 seconds
2025-07-09 10:58:40,442 INFO Received request for extracting fields
2025-07-09 10:58:40,443 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:07:43,455 INFO Received request for extracting fields
2025-07-09 11:07:43,455 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:07:49,693 INFO System prompt send took 6.24 seconds
2025-07-09 11:07:55,391 INFO File send took 5.70 seconds
2025-07-09 11:08:01,069 INFO DocumentAgent response received in 5.68 seconds
2025-07-09 11:08:01,070 INFO Successfully extracted fields
2025-07-09 11:08:01,071 INFO Field extraction completed in 17.62 seconds
2025-07-09 11:25:07,469 INFO Received request for extracting fields
2025-07-09 11:25:07,470 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:25:13,598 INFO System prompt send took 6.13 seconds
2025-07-09 11:25:20,482 INFO File send took 6.88 seconds
2025-07-09 11:25:20,502 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:20,505 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:20,506 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:20,507 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:20,508 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:20,509 INFO No active task to cancel for session_id: 466cbe26-a5f6-44ab-9a3c-15ec5dec4486
2025-07-09 11:25:26,900 INFO DocumentAgent response received in 6.42 seconds
2025-07-09 11:25:26,901 INFO Successfully extracted fields
2025-07-09 11:25:26,902 INFO Field extraction completed in 19.43 seconds
2025-07-09 11:41:27,338 INFO Received request for extracting fields
2025-07-09 11:41:27,339 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:44:25,562 INFO Received request for extracting fields
2025-07-09 11:44:25,563 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:45:37,927 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 25, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
2025-07-09 11:45:37,963 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,967 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,968 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,969 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,971 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,972 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:45:37,979 INFO No active task to cancel for session_id: 5a2ade22-112e-4f72-9b73-608894741fa2
2025-07-09 11:47:20,172 INFO Received request for extracting fields
2025-07-09 11:47:20,173 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:48:57,372 INFO Received request for extracting fields
2025-07-09 11:48:57,372 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:49:09,114 INFO System prompt send took 11.74 seconds
2025-07-09 11:52:48,595 INFO File send took 219.48 seconds
2025-07-09 11:53:24,301 INFO DocumentAgent response received in 35.70 seconds
2025-07-09 11:53:24,302 INFO Successfully extracted fields
2025-07-09 11:53:24,302 INFO Field extraction completed in 266.93 seconds
2025-07-09 11:54:17,143 INFO Chat continuation initiated
2025-07-09 11:54:17,143 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-09 11:56:32,887 INFO Received request for extracting fields
2025-07-09 11:56:32,888 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:57:32,539 INFO Received request for extracting fields
2025-07-09 11:57:32,540 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:57:34,367 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 24
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 25, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
        file_bytes=doc_bytes,
        ^^^^^^^^^^^^^^^^^^^^^
        filename=doc_filename
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 37, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 24
}
]
2025-07-09 11:58:16,042 INFO Received request for extracting fields
2025-07-09 11:58:16,042 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 11:58:22,581 INFO System prompt send took 6.54 seconds
2025-07-09 11:58:28,929 INFO File send took 6.35 seconds
2025-07-09 11:58:34,174 INFO DocumentAgent response received in 5.24 seconds
2025-07-09 11:58:34,175 INFO Successfully extracted fields
2025-07-09 11:58:34,175 INFO Field extraction completed in 18.13 seconds
2025-07-09 11:58:46,692 INFO Chat continuation initiated
2025-07-09 11:58:46,692 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-09 12:05:24,796 INFO Received request for extracting fields
2025-07-09 12:05:24,796 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:05:32,180 INFO System prompt send took 7.38 seconds
2025-07-09 12:05:38,707 INFO File send took 6.53 seconds
2025-07-09 12:05:38,708 ERROR Extraction endpoint unexpected error: 'LLMClient' object has no attribute 'session_mapping'
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 35, in extract_fields
    self.llm_client.session_mapping[client_session_id] = session_id
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'LLMClient' object has no attribute 'session_mapping'
2025-07-09 12:07:36,372 INFO Received request for extracting fields
2025-07-09 12:07:36,372 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:07:42,625 INFO System prompt send took 6.25 seconds
2025-07-09 12:07:53,069 INFO File send took 10.44 seconds
2025-07-09 12:08:00,457 INFO DocumentAgent response received in 7.39 seconds
2025-07-09 12:08:00,458 INFO Successfully extracted fields
2025-07-09 12:08:00,459 INFO Field extraction completed in 24.09 seconds
2025-07-09 12:08:10,607 INFO Chat continuation initiated
2025-07-09 12:08:10,608 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-09 12:12:46,408 INFO Received request for extracting fields
2025-07-09 12:12:46,409 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:12:52,475 INFO System prompt send took 6.07 seconds
2025-07-09 12:12:58,825 INFO File send took 6.35 seconds
2025-07-09 12:13:28,247 INFO DocumentAgent response received in 29.42 seconds
2025-07-09 12:13:28,248 INFO Successfully extracted fields
2025-07-09 12:13:28,248 INFO Field extraction completed in 41.84 seconds
2025-07-09 12:13:42,627 INFO Chat continuation initiated
2025-07-09 12:13:42,628 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-09 12:17:10,577 INFO Received request for extracting fields
2025-07-09 12:17:10,578 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:17:15,453 INFO System prompt send took 4.87 seconds
2025-07-09 12:20:34,412 INFO Received request for extracting fields
2025-07-09 12:20:34,413 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:20:51,301 ERROR Extraction endpoint unexpected error: 500 Internal error encountered.
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InternalServerError: 500 Internal error encountered.
2025-07-09 12:25:22,333 INFO Received request for extracting fields
2025-07-09 12:25:22,334 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:25:29,074 INFO System prompt send took 6.74 seconds
2025-07-09 12:25:34,381 INFO File send took 5.31 seconds
2025-07-09 12:25:47,669 INFO DocumentAgent response received in 13.29 seconds
2025-07-09 12:25:47,670 INFO Successfully extracted fields
2025-07-09 12:25:47,670 INFO Field extraction completed in 25.34 seconds
2025-07-09 12:26:03,201 INFO Chat continuation initiated
2025-07-09 12:26:13,150 INFO DocumentAgent continued chat response received in 9.95 seconds
2025-07-09 12:26:13,151 ERROR Chat continuation unexpected error: object ExtractionLLMResponse can't be used in 'await' expression
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 64, in continue_chat
    result = await service.continue_chat(session_id, prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object ExtractionLLMResponse can't be used in 'await' expression
2025-07-09 12:27:26,342 INFO Received request for extracting fields
2025-07-09 12:27:26,343 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:27:32,540 INFO System prompt send took 6.20 seconds
2025-07-09 12:27:38,786 INFO File send took 6.24 seconds
2025-07-09 12:27:44,725 INFO DocumentAgent response received in 5.94 seconds
2025-07-09 12:27:44,728 INFO Successfully extracted fields
2025-07-09 12:27:44,729 INFO Field extraction completed in 18.39 seconds
2025-07-09 12:27:55,603 INFO Chat continuation initiated
2025-07-09 12:28:01,072 INFO DocumentAgent continued chat response received in 5.47 seconds
2025-07-09 12:28:01,073 INFO Chat continuation completed in 5.47 seconds
2025-07-09 12:28:12,482 INFO Received request for extracting fields
2025-07-09 12:28:12,483 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:28:16,340 INFO System prompt send took 3.86 seconds
2025-07-09 12:28:21,352 INFO File send took 5.01 seconds
2025-07-09 12:28:21,359 INFO No active task to cancel for session_id: f823091b-7940-455c-a3ec-b99b29b0bf33
2025-07-09 12:28:21,365 INFO No active task to cancel for session_id: f823091b-7940-455c-a3ec-b99b29b0bf33
2025-07-09 12:28:26,873 INFO DocumentAgent response received in 5.52 seconds
2025-07-09 12:28:26,874 INFO Successfully extracted fields
2025-07-09 12:28:26,875 INFO Field extraction completed in 14.39 seconds
2025-07-09 12:34:48,524 INFO Received request for extracting fields
2025-07-09 12:34:48,525 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:34:51,834 INFO System prompt send took 3.31 seconds
2025-07-09 12:34:56,836 INFO File send took 5.00 seconds
2025-07-09 12:34:56,846 INFO No active task to cancel for session_id: 65faa6cc-cc52-4f77-96ea-a6b503491ca5
2025-07-09 12:35:02,246 INFO DocumentAgent response received in 5.41 seconds
2025-07-09 12:35:02,247 INFO Successfully extracted fields
2025-07-09 12:35:02,248 INFO Field extraction completed in 13.72 seconds
2025-07-09 12:37:18,317 INFO Received request for extracting fields
2025-07-09 12:37:18,317 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:37:22,748 INFO System prompt send took 4.43 seconds
2025-07-09 12:37:27,912 INFO File send took 5.16 seconds
2025-07-09 12:37:27,913 INFO Storing task for session_id: 7a5a94a4-88d3-4bc1-8644-74dee4ef136a
2025-07-09 12:37:33,127 INFO Trying to cancel task for: 7a5a94a4-88d3-4bc1-8644-74dee4ef136a (effective: 7a5a94a4-88d3-4bc1-8644-74dee4ef136a)
2025-07-09 12:37:33,128 INFO Active keys: []
2025-07-09 12:37:33,128 INFO No active task to cancel for session_id: 7a5a94a4-88d3-4bc1-8644-74dee4ef136a
2025-07-09 12:37:33,426 INFO DocumentAgent response received in 5.51 seconds
2025-07-09 12:37:33,428 INFO Successfully extracted fields
2025-07-09 12:37:33,428 INFO Field extraction completed in 15.11 seconds
2025-07-09 12:39:30,650 INFO Received request for extracting fields
2025-07-09 12:39:30,651 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:39:34,030 INFO System prompt send took 3.38 seconds
2025-07-09 12:39:40,182 INFO File send took 6.15 seconds
2025-07-09 12:39:40,182 INFO Storing task for session_id: a1f16b75-2d9d-471a-864b-710ed9f6890e
2025-07-09 12:39:40,727 INFO No active task to cancel for session_id: a1f16b75-2d9d-471a-864b-710ed9f6890e
2025-07-09 12:39:45,347 INFO DocumentAgent response received in 5.16 seconds
2025-07-09 12:39:45,348 INFO Successfully extracted fields
2025-07-09 12:39:45,348 INFO Field extraction completed in 14.70 seconds
2025-07-09 12:40:16,894 INFO Received request for extracting fields
2025-07-09 12:40:16,895 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:40:20,055 INFO System prompt send took 3.16 seconds
2025-07-09 12:40:25,536 INFO File send took 5.48 seconds
2025-07-09 12:40:25,537 INFO Storing task for session_id: 00355582-4e1b-40d1-b508-fbaaaf4e956d
2025-07-09 12:40:30,532 INFO DocumentAgent response received in 5.00 seconds
2025-07-09 12:40:30,533 INFO Successfully extracted fields
2025-07-09 12:40:30,533 INFO Field extraction completed in 13.64 seconds
2025-07-09 12:41:38,854 INFO Received request for extracting fields
2025-07-09 12:41:38,854 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:41:43,060 INFO System prompt send took 4.21 seconds
2025-07-09 12:41:49,190 INFO File send took 6.13 seconds
2025-07-09 12:41:49,191 INFO Storing task for session_id: 3a30d6ca-58b2-471c-ac49-2d41697eeaab
2025-07-09 12:41:49,758 INFO No active task to cancel for session_id: 3a30d6ca-58b2-471c-ac49-2d41697eeaab
2025-07-09 12:41:54,250 INFO DocumentAgent response received in 5.06 seconds
2025-07-09 12:41:54,251 INFO Successfully extracted fields
2025-07-09 12:41:54,252 INFO Field extraction completed in 15.40 seconds
2025-07-09 12:45:18,597 INFO Received request for extracting fields
2025-07-09 12:45:18,598 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:45:21,817 INFO System prompt send took 3.22 seconds
2025-07-09 12:45:26,827 INFO File send took 5.01 seconds
2025-07-09 12:45:26,827 INFO Storing task for session_id: b7b73af6-4474-416e-81ce-ec22587ff530
2025-07-09 12:45:27,358 INFO No active task to cancel for session_id: b7b73af6-4474-416e-81ce-ec22587ff530
2025-07-09 12:45:31,508 INFO DocumentAgent response received in 4.68 seconds
2025-07-09 12:45:31,509 INFO Successfully extracted fields
2025-07-09 12:45:31,509 INFO Field extraction completed in 12.91 seconds
2025-07-09 12:55:02,300 INFO Received request for extracting fields
2025-07-09 12:55:02,301 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 12:55:14,747 INFO System prompt send took 12.45 seconds
2025-07-09 12:55:19,583 INFO File send took 4.84 seconds
2025-07-09 12:55:19,583 INFO Storing task for session_id: 583cf744-c7fb-4e1f-b9d7-1e7c48555661
2025-07-09 12:55:24,647 INFO DocumentAgent response received in 5.06 seconds
2025-07-09 12:55:24,648 INFO Successfully extracted fields
2025-07-09 12:55:24,648 INFO Field extraction completed in 22.35 seconds
2025-07-09 13:02:02,764 INFO Received request for extracting fields
2025-07-09 13:02:02,764 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 13:02:06,632 INFO System prompt send took 3.87 seconds
2025-07-09 13:02:11,914 INFO File send took 5.28 seconds
2025-07-09 13:02:11,914 INFO Storing task for session_id: 552122c7-0678-45d8-a905-02f806b60683
2025-07-09 13:02:17,658 INFO DocumentAgent response received in 5.74 seconds
2025-07-09 13:02:17,659 INFO Successfully extracted fields
2025-07-09 13:02:17,659 INFO Field extraction completed in 14.90 seconds
2025-07-09 14:15:35,993 INFO Received request for extracting fields
2025-07-09 14:15:35,999 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 14:15:41,349 INFO System prompt send took 5.35 seconds
2025-07-09 14:15:47,036 INFO File send took 5.69 seconds
2025-07-09 14:15:47,037 INFO Storing task for session_id: 7ec3507b-7225-44b4-91af-830e75b38c2f
2025-07-09 14:15:53,488 INFO DocumentAgent response received in 6.45 seconds
2025-07-09 14:15:53,490 INFO Successfully extracted fields
2025-07-09 14:15:53,491 INFO Field extraction completed in 17.49 seconds
2025-07-09 14:19:56,544 INFO Received request for extracting fields
2025-07-09 14:19:56,546 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 14:20:01,501 INFO System prompt send took 4.95 seconds
2025-07-09 14:20:09,387 INFO File send took 7.89 seconds
2025-07-09 14:20:09,389 INFO Storing task for session_id: 66e9a12c-0ce6-4dc9-95db-0e46d8f42dd9
2025-07-09 14:20:16,556 INFO DocumentAgent response received in 7.17 seconds
2025-07-09 14:20:16,558 INFO Successfully extracted fields
2025-07-09 14:20:16,558 INFO Field extraction completed in 20.01 seconds
2025-07-09 16:30:59,114 INFO Received request for extracting fields
2025-07-09 16:30:59,115 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 16:31:49,950 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 15
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 10
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerMinutePerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 15
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 10
}
]
2025-07-09 16:34:01,929 INFO Received request for extracting fields
2025-07-09 16:34:01,929 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 16:34:09,762 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
2025-07-09 16:38:29,895 INFO Received request for extracting fields
2025-07-09 16:38:29,896 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 16:38:42,692 INFO System prompt send took 12.79 seconds
2025-07-09 16:38:43,357 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 16
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 45, in start_session
    chat.send_message([file_part])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 16
}
]
2025-07-09 17:32:27,659 INFO Received request for extracting fields
2025-07-09 17:32:27,660 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 17:34:08,709 INFO System prompt send took 101.05 seconds
2025-07-09 17:34:25,572 INFO File send took 16.86 seconds
2025-07-09 17:34:25,573 INFO Storing task for session_id: 558d7061-6149-4843-aed3-3502b93e0c8e
2025-07-09 17:34:42,295 INFO DocumentAgent response received in 16.72 seconds
2025-07-09 17:34:42,296 INFO Successfully extracted fields
2025-07-09 17:34:42,296 INFO Field extraction completed in 134.64 seconds
2025-07-09 17:37:24,267 INFO Received request for extracting fields
2025-07-09 17:37:24,268 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 17:38:03,911 INFO System prompt send took 39.64 seconds
2025-07-09 17:42:50,117 INFO File send took 286.21 seconds
2025-07-09 17:42:50,117 INFO Storing task for session_id: 7c484e7e-9129-42b1-b205-7f1ac39b2c84
2025-07-09 17:42:50,651 INFO No active task to cancel for session_id: 7c484e7e-9129-42b1-b205-7f1ac39b2c84
2025-07-09 17:43:18,810 INFO DocumentAgent response received in 28.69 seconds
2025-07-09 17:43:18,811 INFO Successfully extracted fields
2025-07-09 17:43:18,812 INFO Field extraction completed in 354.54 seconds
2025-07-09 17:43:31,702 INFO Received request for extracting fields
2025-07-09 17:43:31,703 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 17:44:39,752 INFO System prompt send took 68.05 seconds
2025-07-09 17:45:36,903 INFO File send took 57.15 seconds
2025-07-09 17:45:36,905 INFO Storing task for session_id: 8dff1669-b697-40e8-8577-fc908cad9190
2025-07-09 17:47:16,653 INFO DocumentAgent response received in 99.75 seconds
2025-07-09 17:47:16,655 INFO Successfully extracted fields
2025-07-09 17:47:16,655 INFO Field extraction completed in 224.95 seconds
2025-07-09 17:48:23,296 INFO Received request for extracting fields
2025-07-09 17:48:23,296 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 17:48:42,957 INFO System prompt send took 19.66 seconds
2025-07-09 17:49:20,620 INFO File send took 37.66 seconds
2025-07-09 17:49:20,621 INFO Storing task for session_id: 695e3a88-027c-4612-a330-864dcdc9bdb7
2025-07-09 17:49:33,981 INFO DocumentAgent response received in 13.36 seconds
2025-07-09 17:49:33,982 INFO Successfully extracted fields
2025-07-09 17:49:33,983 INFO Field extraction completed in 70.69 seconds
2025-07-09 19:04:31,444 INFO Received request for extracting fields
2025-07-09 19:04:31,445 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 19:06:10,826 INFO System prompt send took 99.38 seconds
2025-07-09 19:31:22,736 INFO Received request for extracting fields
2025-07-09 19:31:22,737 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 19:33:00,774 INFO Received request for extracting fields
2025-07-09 19:33:00,775 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 19:34:50,724 INFO Received request for extracting fields
2025-07-09 19:34:50,725 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 19:36:59,457 INFO System prompt send took 128.73 seconds
2025-07-09 19:37:09,945 INFO File send took 10.49 seconds
2025-07-09 19:37:09,946 INFO Storing task for session_id: 82bc7bfc-6358-47fb-8133-51ee308bcb7b
2025-07-09 19:37:50,293 INFO DocumentAgent response received in 40.35 seconds
2025-07-09 19:37:50,294 INFO Successfully extracted fields
2025-07-09 19:37:50,295 INFO Field extraction completed in 179.57 seconds
2025-07-09 19:38:31,740 INFO Chat continuation initiated
2025-07-09 19:38:53,778 INFO DocumentAgent continued chat response received in 22.04 seconds
2025-07-09 19:38:53,779 INFO Chat continuation completed in 22.04 seconds
2025-07-09 23:32:52,859 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-09 23:33:03,023 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-09 23:33:11,421 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:33:31,398 INFO Fetched contents from repo in 5.60 seconds
2025-07-09 23:33:31,414 INFO ValidationAgent and chat initialization took 0.01 seconds
2025-07-09 23:33:34,287 INFO System prompt send took 2.87 seconds
2025-07-09 23:34:09,479 INFO Fetched contents from repo in 2.23 seconds
2025-07-09 23:34:09,480 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:34:10,219 INFO System prompt send took 0.74 seconds
2025-07-09 23:34:36,876 INFO Prompt send took 65.48 seconds
2025-07-09 23:35:02,775 INFO ValidationAgent response received in 25.90 seconds
2025-07-09 23:35:02,804 ERROR Unexpected error: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 112, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-09 23:35:20,721 INFO Fetched contents from repo in 2.24 seconds
2025-07-09 23:35:20,722 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:35:21,482 INFO System prompt send took 0.76 seconds
2025-07-09 23:35:31,272 INFO Fetched contents from repo in 5.66 seconds
2025-07-09 23:35:31,300 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:35:32,210 INFO System prompt send took 0.91 seconds
2025-07-09 23:35:37,498 INFO Fetched contents from repo in 1.33 seconds
2025-07-09 23:35:37,499 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:35:38,967 INFO System prompt send took 1.47 seconds
2025-07-09 23:36:15,721 INFO Prompt send took 126.24 seconds
2025-07-09 23:36:56,702 INFO ValidationAgent response received in 40.98 seconds
2025-07-09 23:36:56,706 ERROR Unexpected error: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 112, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-09 23:38:41,977 INFO Fetched contents from repo in 4.80 seconds
2025-07-09 23:38:41,980 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:38:42,756 INFO System prompt send took 0.78 seconds
2025-07-09 23:38:48,319 INFO Fetched contents from repo in 1.38 seconds
2025-07-09 23:38:48,320 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:38:49,037 INFO System prompt send took 0.72 seconds
2025-07-09 23:38:53,240 INFO Prompt send took 212.52 seconds
2025-07-09 23:39:12,064 INFO Prompt send took 220.79 seconds
2025-07-09 23:39:32,368 INFO Prompt send took 234.87 seconds
2025-07-09 23:40:01,495 INFO ValidationAgent response received in 68.25 seconds
2025-07-09 23:40:01,498 ERROR Unexpected error: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 112, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-09 23:40:01,532 INFO ValidationAgent response received in 49.47 seconds
2025-07-09 23:40:01,534 ERROR Unexpected error: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 112, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-09 23:40:01,540 INFO ValidationAgent response received in 29.17 seconds
2025-07-09 23:40:01,543 ERROR Unexpected error: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 112, in analyze_repo
    return ValidationLLMResponse(session_id=session_id, type="validation", response=parsed)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ValidationLLMResponse
session_id
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
2025-07-09 23:40:33,500 INFO Fetched contents from repo in 2.96 seconds
2025-07-09 23:40:33,501 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:40:34,633 INFO System prompt send took 1.13 seconds
2025-07-09 23:40:41,940 INFO Fetched contents from repo in 2.71 seconds
2025-07-09 23:40:41,941 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:40:42,708 INFO System prompt send took 0.77 seconds
2025-07-09 23:41:29,938 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 83, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-07-09 23:41:30,453 INFO Prompt send took 168.48 seconds
2025-07-09 23:41:31,275 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 102, in analyze_repo
    response = chat.send_message(final_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
2025-07-09 23:41:32,220 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 83, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 28
}
]
2025-07-09 23:41:33,178 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 27
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 83, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 27
}
]
2025-07-09 23:41:33,217 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:33,295 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:33,340 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:33,347 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:33,404 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:33,413 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:38,703 ERROR Validation endpoint client exception (UnsupportedURL): 
2025-07-09 23:41:47,527 ERROR Validation endpoint client exception (InvalidRepoURL): 
2025-07-09 23:41:56,208 ERROR Validation endpoint client exception (NoDefaultBranch): 
2025-07-09 23:42:02,451 INFO Fetched contents from repo in 1.96 seconds
2025-07-09 23:42:02,452 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:42:02,961 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 57
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 74, in analyze_repo
    session_id, chat = self.llm_client.start_session("ValidationAgent")
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 57
}
]
2025-07-09 23:44:33,811 INFO Fetched contents from repo in 4.83 seconds
2025-07-09 23:44:33,812 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-09 23:44:34,320 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 28, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 74, in analyze_repo
    session_id, chat = self.llm_client.start_session("ValidationAgent")
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-07-09 23:47:57,621 INFO Received request for extracting fields
2025-07-09 23:47:57,624 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-09 23:47:58,094 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-07-09 23:49:10,041 INFO Chat continuation initiated
2025-07-09 23:49:10,044 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-10 00:05:42,309 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-10 01:42:10,604 INFO Received request for extracting fields
2025-07-10 01:42:10,627 INFO DocumentAgent and chat initialization took 0.01 seconds
2025-07-10 01:42:15,459 INFO System prompt send took 4.83 seconds
2025-07-10 01:42:20,404 INFO File send took 4.94 seconds
2025-07-10 01:42:20,411 INFO Storing task for session_id: 4ead4764-54d9-4281-97b5-ddaaa6725651
2025-07-10 01:42:21,148 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 38
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 59, in extract_fields
    return await task
           ^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 46, in run_extraction
    response = await asyncio.to_thread(chat.send_message, prompt.strip())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 38
}
]
2025-07-10 01:42:21,303 INFO No active task to cancel for session_id: 4ead4764-54d9-4281-97b5-ddaaa6725651
2025-07-10 01:42:27,114 INFO Received request for extracting fields
2025-07-10 01:42:27,115 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 01:42:27,612 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 32
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 32
}
]
2025-07-10 10:16:37,528 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-10 10:17:01,964 INFO Fetched contents from repo in 10.14 seconds
2025-07-10 10:17:01,970 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-10 10:17:03,709 INFO System prompt send took 1.74 seconds
2025-07-10 10:17:04,123 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\validation.py", line 26, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\validation_service.py", line 83, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-07-10 10:19:55,620 ERROR Validation endpoint client exception (UnsupportedURL): Not a URL
2025-07-10 10:20:29,699 INFO Received request for extracting fields
2025-07-10 10:20:29,701 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:20:35,790 INFO System prompt send took 6.09 seconds
2025-07-10 10:20:37,337 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 45, in start_session
    chat.send_message([file_part])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
2025-07-10 10:26:17,081 INFO Received request for extracting fields
2025-07-10 10:26:17,082 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:26:21,647 INFO System prompt send took 4.56 seconds
2025-07-10 10:26:26,827 INFO File send took 5.18 seconds
2025-07-10 10:26:26,829 INFO Storing task for session_id: 830593b2-b005-4b74-b946-7c3359c30c28
2025-07-10 10:26:31,889 INFO DocumentAgent response received in 5.06 seconds
2025-07-10 10:26:31,902 INFO Successfully extracted fields
2025-07-10 10:26:31,905 INFO Field extraction completed in 14.82 seconds
2025-07-10 10:27:11,980 INFO Received request for extracting fields
2025-07-10 10:27:11,981 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:27:15,058 INFO System prompt send took 3.08 seconds
2025-07-10 10:27:19,946 INFO File send took 4.89 seconds
2025-07-10 10:27:19,947 INFO Storing task for session_id: 4792c709-5680-4897-8033-ac2ada2ca084
2025-07-10 10:27:24,729 INFO DocumentAgent response received in 4.78 seconds
2025-07-10 10:27:24,730 INFO Successfully extracted fields
2025-07-10 10:27:24,730 INFO Field extraction completed in 12.75 seconds
2025-07-10 10:27:34,093 INFO Chat continuation initiated
2025-07-10 10:27:46,534 INFO DocumentAgent continued chat response received in 12.44 seconds
2025-07-10 10:27:46,535 INFO Chat continuation completed in 12.44 seconds
2025-07-10 10:33:47,667 INFO Received request for extracting fields
2025-07-10 10:33:47,668 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:34:11,680 INFO System prompt send took 24.01 seconds
2025-07-10 10:34:17,533 INFO File send took 5.85 seconds
2025-07-10 10:34:17,534 INFO Storing task for session_id: 9a52d4fc-538d-4299-812c-c4b0e6a19d94
2025-07-10 10:34:17,932 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 41
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 59, in extract_fields
    return await task
           ^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 46, in run_extraction
    response = await asyncio.to_thread(chat.send_message, prompt.strip())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\concurrent\futures\thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 41
}
]
2025-07-10 10:34:44,867 INFO Received request for extracting fields
2025-07-10 10:34:44,867 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:34:45,226 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 26, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-07-10 10:35:18,494 INFO Received request for extracting fields
2025-07-10 10:35:18,494 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 10:35:23,295 INFO System prompt send took 4.80 seconds
2025-07-10 10:35:30,183 INFO File send took 6.89 seconds
2025-07-10 10:35:30,185 INFO Storing task for session_id: e54f5186-5bec-41e1-94c0-ab36dbe99afa
2025-07-10 10:35:35,486 INFO DocumentAgent response received in 5.30 seconds
2025-07-10 10:35:35,487 INFO Successfully extracted fields
2025-07-10 10:35:35,487 INFO Field extraction completed in 16.99 seconds
2025-07-10 11:11:12,082 INFO Received request for extracting fields
2025-07-10 11:11:12,082 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:11:21,798 INFO System prompt send took 9.72 seconds
2025-07-10 11:11:36,544 INFO File send took 14.75 seconds
2025-07-10 11:11:36,544 INFO Storing task for session_id: 6fd474b4-fe5a-4ccd-a546-7d49429c2e66
2025-07-10 11:11:47,809 INFO DocumentAgent response received in 11.26 seconds
2025-07-10 11:11:47,812 INFO Successfully extracted fields
2025-07-10 11:11:47,812 INFO Field extraction completed in 35.73 seconds
2025-07-10 11:12:07,815 INFO Chat continuation initiated
2025-07-10 11:12:09,005 INFO DocumentAgent continued chat response received in 1.19 seconds
2025-07-10 11:12:09,005 ERROR Chat continuation endpoint client exception (JSONParsing): 
2025-07-10 11:12:53,083 INFO Chat continuation initiated
2025-07-10 11:12:54,777 INFO DocumentAgent continued chat response received in 1.69 seconds
2025-07-10 11:12:54,778 ERROR Chat continuation endpoint client exception (JSONParsing): 
2025-07-10 11:16:58,421 INFO Received request for extracting fields
2025-07-10 11:16:58,422 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:17:02,164 INFO System prompt send took 3.74 seconds
2025-07-10 11:17:16,718 INFO File send took 14.55 seconds
2025-07-10 11:17:16,719 INFO Storing task for session_id: 17df11a2-8ea4-4e60-8b3c-3c7081427d2e
2025-07-10 11:17:27,880 INFO DocumentAgent response received in 11.16 seconds
2025-07-10 11:17:27,880 INFO Successfully extracted fields
2025-07-10 11:17:27,880 INFO Field extraction completed in 29.46 seconds
2025-07-10 11:17:50,182 INFO Received request for extracting fields
2025-07-10 11:17:50,183 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:17:53,684 INFO System prompt send took 3.50 seconds
2025-07-10 11:18:07,921 INFO File send took 14.24 seconds
2025-07-10 11:18:07,921 INFO Storing task for session_id: 0d4226f1-6b73-45c8-ba47-0e1da449b4ca
2025-07-10 11:18:18,878 INFO DocumentAgent response received in 10.96 seconds
2025-07-10 11:18:18,879 INFO Successfully extracted fields
2025-07-10 11:18:18,880 INFO Field extraction completed in 28.70 seconds
2025-07-10 11:18:38,045 INFO Chat continuation initiated
2025-07-10 11:18:48,469 INFO DocumentAgent continued chat response received in 10.42 seconds
2025-07-10 11:18:48,475 INFO Chat continuation completed in 10.43 seconds
2025-07-10 11:19:06,593 INFO Chat continuation initiated
2025-07-10 11:19:08,129 INFO DocumentAgent continued chat response received in 1.54 seconds
2025-07-10 11:19:08,131 ERROR Chat continuation endpoint client exception (JSONParsing): 
2025-07-10 11:23:06,678 INFO Chat continuation initiated
2025-07-10 11:23:06,679 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-10 11:23:15,154 INFO Chat continuation initiated
2025-07-10 11:23:15,154 ERROR Chat continuation endpoint client exception (SessionNotFound): 
2025-07-10 11:24:10,300 INFO Received request for extracting fields
2025-07-10 11:24:10,301 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:24:15,638 INFO System prompt send took 5.34 seconds
2025-07-10 11:24:30,384 INFO File send took 14.75 seconds
2025-07-10 11:24:30,385 INFO Storing task for session_id: c346cbe7-942c-46f2-a20b-c5c13cd8ee9b
2025-07-10 11:24:41,136 INFO DocumentAgent response received in 10.75 seconds
2025-07-10 11:24:41,138 INFO Successfully extracted fields
2025-07-10 11:24:41,139 INFO Field extraction completed in 30.84 seconds
2025-07-10 11:24:53,818 INFO Chat continuation initiated
2025-07-10 11:24:55,266 INFO DocumentAgent continued chat response received in 1.45 seconds
2025-07-10 11:24:55,309 ERROR Chat continuation unexpected error: 1 validation error for ExtractionLLMResponse
response
  Input should be a valid dictionary or instance of ExtractionResponseData [type=model_type, input_value='Hello there!  How can I help you today?\n', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 64, in continue_chat
    result = await service.continue_chat(session_id, prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 75, in continue_chat
    return ExtractionLLMResponse(session_id=session_id, type="document_extraction", response=response.text)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ExtractionLLMResponse
response
  Input should be a valid dictionary or instance of ExtractionResponseData [type=model_type, input_value='Hello there!  How can I help you today?\n', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-07-10 11:27:35,798 INFO Received request for extracting fields
2025-07-10 11:27:35,800 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:27:40,542 INFO System prompt send took 4.74 seconds
2025-07-10 11:27:54,570 INFO File send took 14.03 seconds
2025-07-10 11:27:54,572 INFO Storing task for session_id: 13afdfe4-9da1-4bac-8252-b1aa1cfab587
2025-07-10 11:28:04,841 INFO DocumentAgent response received in 10.27 seconds
2025-07-10 11:28:04,843 INFO Successfully extracted fields
2025-07-10 11:28:04,843 INFO Field extraction completed in 29.04 seconds
2025-07-10 11:28:11,298 INFO Chat continuation initiated
2025-07-10 11:28:12,901 INFO DocumentAgent continued chat response received in 1.60 seconds
2025-07-10 11:28:12,940 ERROR Chat continuation unexpected error: 1 validation error for ExtractionLLMResponse
response
  Input should be a valid dictionary or instance of ExtractionResponseData [type=model_type, input_value=response:
GenerateContent...ini-1.5-flash"
    }),
), input_type=GenerateContentResponse]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 64, in continue_chat
    result = await service.continue_chat(session_id, prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 75, in continue_chat
    return ExtractionLLMResponse(session_id=session_id, type="document_extraction", response=response)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for ExtractionLLMResponse
response
  Input should be a valid dictionary or instance of ExtractionResponseData [type=model_type, input_value=response:
GenerateContent...ini-1.5-flash"
    }),
), input_type=GenerateContentResponse]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-07-10 11:30:26,581 INFO Received request for extracting fields
2025-07-10 11:30:26,582 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:30:31,552 INFO System prompt send took 4.97 seconds
2025-07-10 11:30:46,604 INFO File send took 15.05 seconds
2025-07-10 11:30:46,605 INFO Storing task for session_id: 1abbf3e6-1c43-451d-8bc3-bd7ef0b51bbc
2025-07-10 11:30:56,946 INFO DocumentAgent response received in 10.34 seconds
2025-07-10 11:30:56,948 INFO Successfully extracted fields
2025-07-10 11:30:56,948 INFO Field extraction completed in 30.37 seconds
2025-07-10 11:31:07,059 INFO Chat continuation initiated
2025-07-10 11:31:08,823 INFO DocumentAgent continued chat response received in 1.76 seconds
2025-07-10 11:31:08,824 INFO Chat continuation completed in 1.76 seconds
2025-07-10 11:32:56,652 INFO Received request for extracting fields
2025-07-10 11:32:56,653 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:33:00,030 INFO System prompt send took 3.38 seconds
2025-07-10 11:33:13,956 INFO File send took 13.93 seconds
2025-07-10 11:33:13,956 INFO Storing task for session_id: e9c30da7-0720-4864-9d59-aa4f94c80a16
2025-07-10 11:33:24,710 INFO DocumentAgent response received in 10.75 seconds
2025-07-10 11:33:24,712 INFO Successfully extracted fields
2025-07-10 11:33:24,713 INFO Field extraction completed in 28.06 seconds
2025-07-10 11:33:36,797 INFO Chat continuation initiated
2025-07-10 11:33:38,124 INFO DocumentAgent continued chat response received in 1.33 seconds
2025-07-10 11:33:38,125 INFO Chat continuation completed in 1.33 seconds
2025-07-10 11:36:08,034 INFO Received request for extracting fields
2025-07-10 11:36:08,035 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:36:11,420 INFO System prompt send took 3.38 seconds
2025-07-10 11:36:25,138 INFO File send took 13.72 seconds
2025-07-10 11:36:25,139 INFO Storing task for session_id: e3df6765-5457-4ad6-bfa2-38e307ab89d3
2025-07-10 11:36:35,277 INFO DocumentAgent response received in 10.14 seconds
2025-07-10 11:36:35,278 INFO Successfully extracted fields
2025-07-10 11:36:35,279 INFO Field extraction completed in 27.24 seconds
2025-07-10 11:36:40,075 INFO Chat continuation initiated
2025-07-10 11:36:41,726 INFO DocumentAgent continued chat response received in 1.65 seconds
2025-07-10 11:36:41,726 INFO Chat continuation completed in 1.65 seconds
2025-07-10 11:37:06,489 INFO Chat continuation initiated
2025-07-10 11:37:08,759 INFO DocumentAgent continued chat response received in 2.27 seconds
2025-07-10 11:37:08,760 INFO Chat continuation completed in 2.27 seconds
2025-07-10 11:37:52,724 INFO Chat continuation initiated
2025-07-10 11:38:03,648 INFO DocumentAgent continued chat response received in 10.92 seconds
2025-07-10 11:38:03,648 INFO Chat continuation completed in 10.92 seconds
2025-07-10 11:39:49,637 INFO Received request for extracting fields
2025-07-10 11:39:49,638 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:39:54,035 INFO System prompt send took 4.40 seconds
2025-07-10 11:40:08,582 INFO File send took 14.55 seconds
2025-07-10 11:40:08,583 INFO Storing task for session_id: aff99ede-0117-4a4f-907e-1bf643ce3990
2025-07-10 11:40:18,918 INFO DocumentAgent response received in 10.33 seconds
2025-07-10 11:40:18,919 INFO Successfully extracted fields
2025-07-10 11:40:18,919 INFO Field extraction completed in 29.28 seconds
2025-07-10 11:40:59,247 INFO Chat continuation initiated
2025-07-10 11:41:11,039 INFO DocumentAgent continued chat response received in 11.79 seconds
2025-07-10 11:41:11,040 ERROR Chat continuation unexpected error: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 64, in continue_chat
    result = await service.continue_chat(session_id, prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 72, in continue_chat
    parsed = json.loads(response.text)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-07-10 11:42:44,069 INFO Received request for extracting fields
2025-07-10 11:42:44,070 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:42:47,603 INFO System prompt send took 3.53 seconds
2025-07-10 11:43:02,042 INFO File send took 14.44 seconds
2025-07-10 11:43:02,042 INFO Storing task for session_id: bda7453c-b94b-4f1d-a87f-3ccd770a6747
2025-07-10 11:43:12,691 INFO DocumentAgent response received in 10.65 seconds
2025-07-10 11:43:12,692 INFO Successfully extracted fields
2025-07-10 11:43:12,692 INFO Field extraction completed in 28.62 seconds
2025-07-10 11:44:05,230 INFO Chat continuation initiated
2025-07-10 11:44:15,872 INFO DocumentAgent continued chat response received in 10.64 seconds
2025-07-10 11:44:15,874 ERROR Chat continuation unexpected error: Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 64, in continue_chat
    result = await service.continue_chat(session_id, prompt)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 72, in continue_chat
    parsed = json.loads(response.text)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-07-10 11:46:11,388 INFO Received request for extracting fields
2025-07-10 11:46:11,390 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 11:46:15,374 INFO System prompt send took 3.98 seconds
2025-07-10 11:46:29,710 INFO File send took 14.33 seconds
2025-07-10 11:46:29,710 INFO Storing task for session_id: 9d43e80b-ca96-4c84-93c1-caa94b7e9225
2025-07-10 11:46:40,359 INFO DocumentAgent response received in 10.65 seconds
2025-07-10 11:46:40,360 INFO Successfully extracted fields
2025-07-10 11:46:40,360 INFO Field extraction completed in 28.97 seconds
2025-07-10 11:47:05,294 INFO Chat continuation initiated
2025-07-10 11:47:16,405 INFO DocumentAgent continued chat response received in 11.11 seconds
2025-07-10 11:47:16,405 INFO Chat continuation completed in 11.11 seconds
2025-07-10 12:23:23,949 INFO Fetched contents from repo in 12.04 seconds
2025-07-10 12:23:23,951 INFO ValidationAgent and chat initialization took 0.00 seconds
2025-07-10 12:23:26,817 INFO System prompt send took 2.87 seconds
2025-07-10 12:23:27,328 ERROR Unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 32
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\validation.py", line 26, in analyze_repo
    result =await service.analyze_repo(req.repo_url)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\validation_service.py", line 83, in analyze_repo
    chat.send_message(prompt)
    ~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 32
}
]
2025-07-10 12:24:33,637 INFO Received request for extracting fields
2025-07-10 12:24:33,638 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 12:24:34,499 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
Traceback (most recent call last):
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\api\routers\document.py", line 30, in extract_fields
    result = await service.extract_fields(doc_bytes, doc.filename, fields, user_prompt, client_session_id)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\application\services\document_service.py", line 27, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        session_id=client_session_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Desktop\Projects\test\Validation_documentation\src\app\infrastructure\llm_client.py", line 38, in start_session
    chat.send_message(agent["system_prompt"])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\HP\AppData\Local\Programs\Python\Python313\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-07-10 12:45:01,149 INFO Received request for extracting fields
2025-07-10 12:45:01,150 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 12:45:06,093 INFO System prompt send took 4.94 seconds
2025-07-10 12:45:21,258 INFO File send took 15.16 seconds
2025-07-10 12:45:21,259 INFO Storing task for session_id: 075761c5-2b76-40d9-a75a-a6a06e8d1d8c
2025-07-10 12:45:32,316 INFO DocumentAgent response received in 11.06 seconds
2025-07-10 12:45:32,318 INFO Successfully extracted fields
2025-07-10 12:45:32,319 INFO Field extraction completed in 31.17 seconds
2025-07-10 12:57:15,304 INFO Received request for extracting fields
2025-07-10 12:57:15,304 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-10 12:57:18,945 INFO System prompt send took 3.64 seconds
2025-07-10 12:57:33,501 INFO File send took 14.55 seconds
2025-07-10 12:57:33,508 INFO Storing task for session_id: 8ceda64b-c7f6-449b-87d8-dc33c7a59a4b
2025-07-10 12:57:45,182 INFO DocumentAgent response received in 11.67 seconds
2025-07-10 12:57:45,183 INFO Successfully extracted fields
2025-07-10 12:57:45,183 INFO Field extraction completed in 29.88 seconds
2025-07-11 13:17:49,699 INFO Received request for extracting fields
2025-07-11 13:17:49,702 INFO Successfully extracted fields
2025-07-11 13:17:49,703 INFO Field extraction completed in 0.00 seconds
2025-07-11 13:21:50,700 INFO Received request for extracting fields
2025-07-11 13:21:50,709 INFO Successfully extracted fields
2025-07-11 13:21:50,710 INFO Field extraction completed in 0.01 seconds
2025-07-11 13:22:53,412 INFO Received request for extracting fields
2025-07-11 13:22:53,414 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:22:56,398 INFO System prompt send took 2.98 seconds
2025-07-11 13:23:08,669 INFO File send took 12.27 seconds
2025-07-11 13:23:16,276 INFO DocumentAgent response received in 7.60 seconds
2025-07-11 13:23:16,280 INFO Successfully extracted fields
2025-07-11 13:23:16,281 INFO Field extraction completed in 22.87 seconds
2025-07-11 13:27:03,751 INFO Received request for extracting fields
2025-07-11 13:27:03,754 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:27:08,162 INFO System prompt send took 4.41 seconds
2025-07-11 13:27:12,342 INFO File send took 4.18 seconds
2025-07-11 13:27:20,521 INFO DocumentAgent response received in 8.18 seconds
2025-07-11 13:27:20,527 INFO Successfully extracted fields
2025-07-11 13:27:20,528 INFO Field extraction completed in 16.77 seconds
2025-07-11 13:37:32,371 INFO Received request for extracting fields
2025-07-11 13:37:32,375 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:37:37,231 INFO System prompt send took 4.86 seconds
2025-07-11 13:37:45,983 INFO File send took 8.75 seconds
2025-07-11 13:37:55,422 INFO DocumentAgent response received in 9.44 seconds
2025-07-11 13:37:55,434 INFO Successfully extracted fields
2025-07-11 13:37:55,436 INFO Field extraction completed in 23.06 seconds
2025-07-11 13:46:20,699 INFO Received request for extracting fields
2025-07-11 13:46:20,702 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:46:29,828 INFO System prompt send took 9.12 seconds
2025-07-11 13:46:50,535 INFO File send took 20.70 seconds
2025-07-11 13:47:16,867 INFO DocumentAgent response received in 26.33 seconds
2025-07-11 13:47:16,876 INFO Successfully extracted fields
2025-07-11 13:47:16,876 INFO Field extraction completed in 56.18 seconds
2025-07-11 13:50:12,494 INFO Received request for extracting fields
2025-07-11 13:50:12,496 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:50:24,598 INFO System prompt send took 12.10 seconds
2025-07-11 13:50:31,596 INFO File send took 7.00 seconds
2025-07-11 13:50:46,639 INFO DocumentAgent response received in 15.04 seconds
2025-07-11 13:50:46,645 INFO Successfully extracted fields
2025-07-11 13:50:46,646 INFO Field extraction completed in 34.15 seconds
2025-07-11 13:59:26,552 INFO Received request for extracting fields
2025-07-11 13:59:26,553 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 13:59:37,170 INFO System prompt send took 10.62 seconds
2025-07-11 13:59:55,606 INFO File send took 18.43 seconds
2025-07-11 14:00:13,341 INFO DocumentAgent response received in 17.73 seconds
2025-07-11 14:00:13,348 INFO Successfully extracted fields
2025-07-11 14:00:13,349 INFO Field extraction completed in 46.80 seconds
2025-07-11 14:08:09,230 INFO Received request for extracting fields
2025-07-11 14:08:09,232 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:08:14,161 INFO System prompt send took 4.93 seconds
2025-07-11 14:08:21,915 INFO File send took 7.75 seconds
2025-07-11 14:08:30,072 INFO DocumentAgent response received in 8.15 seconds
2025-07-11 14:08:30,081 INFO Successfully extracted fields
2025-07-11 14:08:30,083 INFO Field extraction completed in 20.85 seconds
2025-07-11 14:14:21,322 INFO Received request for extracting fields
2025-07-11 14:14:21,324 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:16:05,394 INFO System prompt send took 104.07 seconds
2025-07-11 14:16:30,226 INFO File send took 24.83 seconds
2025-07-11 14:17:11,330 INFO DocumentAgent response received in 41.10 seconds
2025-07-11 14:17:11,339 INFO Successfully extracted fields
2025-07-11 14:17:11,340 INFO Field extraction completed in 170.02 seconds
2025-07-11 14:30:11,104 INFO Received request for extracting fields
2025-07-11 14:30:11,107 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:30:16,866 INFO System prompt send took 5.76 seconds
2025-07-11 14:30:27,054 INFO File send took 10.19 seconds
2025-07-11 14:30:38,382 INFO DocumentAgent response received in 11.33 seconds
2025-07-11 14:30:38,408 INFO Successfully extracted fields
2025-07-11 14:30:38,409 INFO Field extraction completed in 27.30 seconds
2025-07-11 14:40:46,720 INFO Received request for extracting fields
2025-07-11 14:40:46,722 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:40:49,997 INFO System prompt send took 3.27 seconds
2025-07-11 14:41:08,883 INFO File send took 18.88 seconds
2025-07-11 14:41:21,876 INFO DocumentAgent response received in 12.99 seconds
2025-07-11 14:41:21,884 INFO Successfully extracted fields
2025-07-11 14:41:21,886 INFO Field extraction completed in 35.16 seconds
2025-07-11 14:43:17,223 INFO Received request for extracting fields
2025-07-11 14:43:17,226 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:43:20,664 INFO System prompt send took 3.44 seconds
2025-07-11 14:43:33,820 INFO File send took 13.16 seconds
2025-07-11 14:43:43,034 INFO DocumentAgent response received in 9.21 seconds
2025-07-11 14:43:43,060 INFO Successfully extracted fields
2025-07-11 14:43:43,061 INFO Field extraction completed in 25.84 seconds
2025-07-11 14:46:05,604 INFO Received request for extracting fields
2025-07-11 14:46:05,605 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 14:46:17,497 INFO System prompt send took 11.89 seconds
2025-07-11 14:46:33,332 INFO File send took 15.83 seconds
2025-07-11 14:46:43,007 INFO DocumentAgent response received in 9.67 seconds
2025-07-11 14:46:43,014 INFO Successfully extracted fields
2025-07-11 14:46:43,015 INFO Field extraction completed in 37.41 seconds
2025-07-11 15:05:56,997 INFO Received request for extracting fields
2025-07-11 15:05:57,000 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 15:06:00,650 INFO System prompt send took 3.65 seconds
2025-07-11 15:06:13,954 INFO File send took 13.30 seconds
2025-07-11 15:06:23,294 INFO DocumentAgent response received in 9.34 seconds
2025-07-11 15:06:23,303 INFO Successfully extracted fields
2025-07-11 15:06:23,304 INFO Field extraction completed in 26.30 seconds
2025-07-11 15:07:27,234 INFO Received request for extracting fields
2025-07-11 15:07:27,236 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 15:07:30,594 INFO System prompt send took 3.36 seconds
2025-07-11 15:07:35,083 INFO File send took 4.49 seconds
2025-07-11 15:07:40,088 INFO DocumentAgent response received in 5.00 seconds
2025-07-11 15:07:40,094 INFO Successfully extracted fields
2025-07-11 15:07:40,097 INFO Field extraction completed in 12.86 seconds
2025-07-11 15:13:34,058 INFO Received request for extracting fields
2025-07-11 15:13:34,060 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 15:13:36,781 INFO System prompt send took 2.72 seconds
2025-07-11 15:13:42,833 INFO File send took 6.05 seconds
2025-07-11 15:13:51,165 INFO DocumentAgent response received in 8.33 seconds
2025-07-11 15:13:51,171 INFO Successfully extracted fields
2025-07-11 15:13:51,172 INFO Field extraction completed in 17.11 seconds
2025-07-11 15:14:59,734 INFO Received request for extracting fields
2025-07-11 15:14:59,736 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 15:15:02,304 INFO System prompt send took 2.57 seconds
2025-07-11 15:15:02,714 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 31, in extract_fields
    session_id, chat = self.llm_client.start_session(
                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "DocumentAgent",
        ^^^^^^^^^^^^^^^^
    ...<2 lines>...
        doc_type=doc_type
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\infrastructure\llm_client.py", line 44, in start_session
    chat.send_message([file_part])
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
2025-07-11 15:17:04,039 INFO Received request for extracting fields
2025-07-11 15:17:04,041 INFO DocumentAgent and chat initialization took 0.00 seconds
2025-07-11 15:17:08,548 INFO System prompt send took 4.51 seconds
2025-07-11 15:17:12,499 INFO File send took 3.95 seconds
2025-07-11 15:17:12,919 ERROR Extraction endpoint unexpected error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\document.py", line 28, in extract_fields
    result = service.extract_fields(doc_bytes, doc.filename, fields, user_prompt)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\application\services\document_service.py", line 44, in extract_fields
    response = chat.send_message(prompt.strip())
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 578, in send_message
    response = self.model.generate_content(
        contents=history,
    ...<5 lines>...
        request_options=request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\retry\retry_unary.py", line 147, in retry_target
    result = target()
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\venv\Lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ResourceExhausted: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_requests"
  quota_id: "GenerateRequestsPerDayPerProjectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 50
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 44
}
]
2025-07-12 00:54:22,824 INFO App started
2025-07-12 00:54:40,244 INFO All brokers extracted in 0.12 seconds
2025-07-12 00:54:58,027 INFO All brokers extracted in 0.00 seconds
2025-07-12 00:55:50,324 INFO Closing Oracle connection pool
2025-07-12 00:56:00,869 INFO App started
2025-07-12 00:56:11,091 INFO All brokers extracted in 0.00 seconds
2025-07-12 00:57:53,261 INFO All brokers extracted in 0.05 seconds
2025-07-12 00:58:21,260 INFO Closing Oracle connection pool
2025-07-12 00:58:33,263 INFO App started
2025-07-12 00:58:47,371 INFO All brokers extracted in 0.11 seconds
2025-07-12 00:59:06,510 INFO Closing Oracle connection pool
2025-07-12 00:59:33,859 INFO App started
2025-07-12 00:59:46,617 INFO All brokers extracted in 0.00 seconds
2025-07-12 01:02:07,776 INFO Closing Oracle connection pool
2025-07-12 01:02:18,537 INFO App started
2025-07-12 01:03:00,016 INFO All brokers extracted in 0.04 seconds
2025-07-12 01:06:25,896 INFO Closing Oracle connection pool
2025-07-12 01:09:05,260 INFO App started
2025-07-12 01:09:17,077 INFO All brokers extracted in 0.03 seconds
2025-07-12 01:09:32,248 INFO Closing Oracle connection pool
2025-07-12 01:09:40,287 INFO App started
2025-07-12 01:10:30,691 INFO Closing Oracle connection pool
2025-07-12 01:10:57,903 INFO App started
2025-07-12 01:11:14,248 INFO All brokers extracted in 0.04 seconds
2025-07-12 01:11:26,510 INFO Closing Oracle connection pool
2025-07-12 09:17:42,888 INFO App started
2025-07-12 09:21:17,640 INFO Closing Oracle connection pool
2025-07-12 09:21:25,647 INFO App started
2025-07-12 09:21:34,831 INFO All brokers extracted in 0.01 seconds
2025-07-12 09:22:11,322 INFO Closing Oracle connection pool
2025-07-12 09:47:16,916 INFO App started
2025-07-12 09:49:02,762 INFO Closing Oracle connection pool
2025-07-12 09:49:10,162 INFO App started
2025-07-12 09:50:38,669 INFO Closing Oracle connection pool
2025-07-12 09:50:47,599 INFO App started
2025-07-12 09:51:16,319 INFO Closing Oracle connection pool
2025-07-12 09:51:32,709 INFO App started
2025-07-12 09:51:35,445 INFO Closing Oracle connection pool
2025-07-12 09:51:41,741 INFO App started
2025-07-12 09:51:51,608 INFO Closing Oracle connection pool
2025-07-12 09:51:58,089 INFO App started
2025-07-12 09:52:05,131 INFO Closing Oracle connection pool
2025-07-12 09:52:11,364 INFO App started
2025-07-12 09:52:18,611 INFO Closing Oracle connection pool
2025-07-12 09:52:24,964 INFO App started
2025-07-12 09:52:27,487 INFO Closing Oracle connection pool
2025-07-12 09:52:33,908 INFO App started
2025-07-12 09:52:44,161 INFO Closing Oracle connection pool
2025-07-12 10:52:38,204 INFO App started
2025-07-12 10:55:19,903 INFO Closing Oracle connection pool
2025-07-12 10:55:32,479 INFO App started
2025-07-12 10:55:40,778 INFO App started
2025-07-12 10:55:58,190 INFO Closing Oracle connection pool
2025-07-12 10:56:08,156 INFO App started
2025-07-12 10:57:33,526 INFO Closing Oracle connection pool
2025-07-12 10:57:43,106 INFO App started
2025-07-12 10:57:48,400 INFO Closing Oracle connection pool
2025-07-12 10:57:55,008 INFO App started
2025-07-12 11:02:16,943 INFO Closing Oracle connection pool
2025-07-12 11:13:52,637 INFO App started
2025-07-12 11:16:45,026 INFO Closing Oracle connection pool
2025-07-12 11:17:08,456 INFO App started
2025-07-12 11:17:17,389 INFO Closing Oracle connection pool
2025-07-12 11:17:30,048 INFO App started
2025-07-12 11:19:43,678 INFO Closing Oracle connection pool
2025-07-12 11:19:55,705 INFO App started
2025-07-12 11:19:58,508 INFO Closing Oracle connection pool
2025-07-12 11:20:06,215 INFO App started
2025-07-12 11:20:51,704 INFO Closing Oracle connection pool
2025-07-12 11:21:00,402 INFO App started
2025-07-12 11:21:57,523 INFO Closing Oracle connection pool
2025-07-12 11:22:21,489 INFO App started
2025-07-12 11:23:10,550 INFO Closing Oracle connection pool
2025-07-12 11:23:32,094 INFO App started
2025-07-12 11:23:41,175 INFO Closing Oracle connection pool
2025-07-12 11:26:51,398 INFO App started
2025-07-12 11:26:54,718 INFO Closing Oracle connection pool
2025-07-12 11:27:04,664 INFO App started
2025-07-12 12:04:53,468 INFO Closing Oracle connection pool
2025-07-12 12:05:10,661 INFO App started
2025-07-12 14:17:30,846 INFO App started
2025-07-12 14:17:35,970 INFO Closing Oracle connection pool
2025-07-12 14:19:05,091 INFO App started
2025-07-12 14:19:56,800 INFO Closing Oracle connection pool
2025-07-12 14:20:00,645 INFO App started
2025-07-12 14:20:06,022 INFO Closing Oracle connection pool
2025-07-12 14:20:10,122 INFO App started
2025-07-12 14:20:19,522 INFO Closing Oracle connection pool
2025-07-12 14:20:23,320 INFO App started
2025-07-12 14:20:26,538 INFO Closing Oracle connection pool
2025-07-12 14:20:30,441 INFO App started
2025-07-12 14:21:03,898 INFO Closing Oracle connection pool
2025-07-12 14:21:07,886 INFO App started
2025-07-12 14:21:08,942 INFO Closing Oracle connection pool
2025-07-12 14:21:12,913 INFO App started
2025-07-12 14:21:22,642 INFO Closing Oracle connection pool
2025-07-12 14:21:26,859 INFO App started
2025-07-12 14:22:36,875 INFO Closing Oracle connection pool
2025-07-12 14:22:40,542 INFO App started
2025-07-12 14:23:17,448 INFO Closing Oracle connection pool
2025-07-12 14:23:25,991 INFO App started
2025-07-12 14:23:33,242 INFO Closing Oracle connection pool
2025-07-12 14:23:37,159 INFO App started
2025-07-12 14:24:09,871 INFO Closing Oracle connection pool
2025-07-12 14:24:13,876 INFO App started
2025-07-12 14:24:30,124 INFO Closing Oracle connection pool
2025-07-12 14:24:34,244 INFO App started
2025-07-12 14:24:46,146 INFO Closing Oracle connection pool
2025-07-12 14:24:50,872 INFO App started
2025-07-12 14:24:52,126 INFO Closing Oracle connection pool
2025-07-12 14:24:56,181 INFO App started
2025-07-12 14:25:09,335 INFO All brokers extracted in 0.03 seconds
2025-07-12 14:25:29,975 ERROR Unique ID already exists
2025-07-12 14:25:29,976 ERROR Check unique ID endpoint client exception (UniqueIdExists): 
2025-07-12 14:25:40,839 ERROR Unexpected error: unsupported operand type(s) for -: 'builtin_function_or_method' and 'builtin_function_or_method'
Traceback (most recent call last):
  File "C:\Users\tasss\OneDrive\Documents\Citi-Internship\citi-ai\src\app\api\routers\broker.py", line 49, in check_unique_id
    logger.info(f"Check unique ID exists in {end-start:.2f} seconds")
                                             ~~~^~~~~~
TypeError: unsupported operand type(s) for -: 'builtin_function_or_method' and 'builtin_function_or_method'
2025-07-12 14:28:17,155 INFO Closing Oracle connection pool
2025-07-12 14:28:22,680 INFO App started
2025-07-12 14:28:33,000 INFO Closing Oracle connection pool
2025-07-12 14:28:36,951 INFO App started
2025-07-12 14:28:40,484 INFO Closing Oracle connection pool
2025-07-12 14:28:44,554 INFO App started
2025-07-12 14:29:46,606 INFO Closing Oracle connection pool
2025-07-12 14:29:50,871 INFO App started
2025-07-12 14:29:55,996 INFO Closing Oracle connection pool
2025-07-12 14:30:00,103 INFO App started
2025-07-12 14:30:26,725 ERROR Unique ID already exists
2025-07-12 14:30:26,726 ERROR Check unique ID endpoint client exception (UniqueIdExists): 
2025-07-12 14:30:34,260 INFO Check unique ID exists in 0.00 seconds
2025-07-12 14:30:39,606 INFO Check unique ID exists in 0.00 seconds
2025-07-12 14:30:43,312 INFO Check unique ID exists in 0.00 seconds
2025-07-12 15:21:06,942 INFO Closing Oracle connection pool
2025-07-12 15:21:15,913 INFO App started
2025-07-12 15:21:29,594 INFO Closing Oracle connection pool
2025-07-12 15:22:02,595 INFO App started
2025-07-12 15:22:06,681 INFO Closing Oracle connection pool
2025-07-12 15:22:11,303 INFO App started
2025-07-12 15:22:27,923 INFO Closing Oracle connection pool
2025-07-12 15:22:32,588 INFO App started
2025-07-12 15:22:50,893 INFO Closing Oracle connection pool
2025-07-12 15:22:55,582 INFO App started
2025-07-12 15:22:57,077 INFO Closing Oracle connection pool
2025-07-12 15:23:01,870 INFO App started
2025-07-12 15:23:14,193 INFO Closing Oracle connection pool
2025-07-12 15:23:18,947 INFO App started
2025-07-12 15:23:50,792 INFO Closing Oracle connection pool
2025-07-12 15:23:55,864 INFO App started
2025-07-12 15:24:02,356 INFO Closing Oracle connection pool
2025-07-12 15:24:06,993 INFO App started
2025-07-12 15:25:09,554 INFO Closing Oracle connection pool
2025-07-12 15:25:14,321 INFO App started
2025-07-12 15:25:15,403 INFO Closing Oracle connection pool
2025-07-12 15:25:20,049 INFO App started
2025-07-12 15:25:31,609 INFO Closing Oracle connection pool
2025-07-12 15:25:36,419 INFO App started
2025-07-12 15:25:37,706 INFO Closing Oracle connection pool
2025-07-12 15:25:42,539 INFO App started
2025-07-12 15:25:54,153 INFO Closing Oracle connection pool
2025-07-12 15:25:59,138 INFO App started
2025-07-12 15:26:05,835 INFO Closing Oracle connection pool
2025-07-12 15:26:10,838 INFO App started
2025-07-12 15:26:14,847 INFO Closing Oracle connection pool
2025-07-12 15:26:19,701 INFO App started
2025-07-12 15:26:21,126 INFO Closing Oracle connection pool
2025-07-12 15:26:25,764 INFO App started
2025-07-12 15:26:29,779 INFO Closing Oracle connection pool
2025-07-12 15:26:34,515 INFO App started
2025-07-12 15:26:35,791 INFO Closing Oracle connection pool
2025-07-12 15:26:40,474 INFO App started
2025-07-12 15:26:41,859 INFO Closing Oracle connection pool
2025-07-12 15:26:46,448 INFO App started
2025-07-12 15:28:22,095 INFO Closing Oracle connection pool
2025-07-12 15:28:41,055 INFO App started
2025-07-12 15:28:47,639 INFO Closing Oracle connection pool
2025-07-12 15:28:52,947 INFO App started
2025-07-12 15:28:56,837 INFO Closing Oracle connection pool
2025-07-12 15:30:00,469 INFO App started
2025-07-12 15:31:35,108 INFO Closing Oracle connection pool
2025-07-12 15:31:39,866 INFO App started
2025-07-12 15:32:07,947 INFO Closing Oracle connection pool
2025-07-12 15:32:18,214 INFO App started
2025-07-12 15:32:21,978 INFO Closing Oracle connection pool
2025-07-12 15:32:26,490 INFO App started
2025-07-12 15:32:39,037 INFO Closing Oracle connection pool
2025-07-12 15:32:43,668 INFO App started
2025-07-12 15:32:50,507 INFO Closing Oracle connection pool
2025-07-12 15:32:55,194 INFO App started
2025-07-12 15:39:58,612 INFO Closing Oracle connection pool
2025-07-12 15:40:07,182 INFO App started
2025-07-12 15:40:12,336 INFO Closing Oracle connection pool
2025-07-12 15:40:17,121 INFO App started
2025-07-12 15:40:18,295 INFO Closing Oracle connection pool
2025-07-12 15:40:22,805 INFO App started
2025-07-12 15:40:52,103 INFO Closing Oracle connection pool
2025-07-12 15:40:56,969 INFO App started
2025-07-12 15:40:58,359 INFO Closing Oracle connection pool
2025-07-12 15:41:03,022 INFO App started
2025-07-12 15:41:04,309 INFO Closing Oracle connection pool
2025-07-12 15:41:09,339 INFO App started
2025-07-12 15:41:10,631 INFO Closing Oracle connection pool
2025-07-12 15:41:15,287 INFO App started
2025-07-12 15:41:16,814 INFO Closing Oracle connection pool
2025-07-12 15:41:21,622 INFO App started
2025-07-12 15:41:38,527 INFO Closing Oracle connection pool
2025-07-12 15:41:43,153 INFO App started
2025-07-12 15:41:46,930 INFO Closing Oracle connection pool
2025-07-12 15:41:51,625 INFO App started
2025-07-12 15:41:58,319 INFO Closing Oracle connection pool
2025-07-12 15:42:03,120 INFO App started
2025-07-12 15:42:34,032 INFO Closing Oracle connection pool
2025-07-12 15:42:39,033 INFO App started
2025-07-12 15:42:45,631 INFO Closing Oracle connection pool
2025-07-12 15:42:50,577 INFO App started
2025-07-12 15:48:29,279 INFO Closing Oracle connection pool
2025-07-12 15:48:35,503 INFO App started
2025-07-12 15:48:47,382 INFO Closing Oracle connection pool
2025-07-12 15:48:52,044 INFO App started
2025-07-12 15:49:07,427 INFO Closing Oracle connection pool
2025-07-12 15:49:23,108 INFO App started
2025-07-12 15:50:44,931 INFO Closing Oracle connection pool
2025-07-12 15:50:50,130 INFO App started
2025-07-12 15:51:04,553 INFO Closing Oracle connection pool
2025-07-12 15:51:09,329 INFO App started
2025-07-12 15:51:15,923 INFO Closing Oracle connection pool
2025-07-12 15:51:20,644 INFO App started
2025-07-12 15:51:30,163 INFO Closing Oracle connection pool
2025-07-12 15:51:34,890 INFO App started
2025-07-12 15:52:25,533 INFO Closing Oracle connection pool
2025-07-12 15:52:30,098 INFO App started
2025-07-12 15:52:41,780 INFO Closing Oracle connection pool
2025-07-12 16:06:52,607 INFO App started
2025-07-12 16:07:37,419 INFO Closing Oracle connection pool
2025-07-12 16:07:42,048 INFO App started
2025-07-12 16:07:48,763 INFO Closing Oracle connection pool
2025-07-12 16:07:53,368 INFO App started
2025-07-12 16:07:54,984 INFO Closing Oracle connection pool
2025-07-12 16:07:59,759 INFO App started
2025-07-12 16:08:03,856 INFO Closing Oracle connection pool
2025-07-12 16:08:08,801 INFO App started
2025-07-12 16:08:48,362 INFO Closing Oracle connection pool
2025-07-12 16:08:53,041 INFO App started
2025-07-12 16:09:07,404 INFO All brokers extracted in 0.13 seconds
2025-07-12 16:09:18,526 ERROR Check unique ID endpoint client exception (DBQuery): 
2025-07-12 16:10:03,663 ERROR Check unique ID endpoint client exception (DBQuery): 
2025-07-12 16:13:40,667 INFO Closing Oracle connection pool
2025-07-12 16:13:50,240 INFO App started
2025-07-12 16:14:37,134 INFO All brokers extracted in 0.02 seconds
2025-07-12 16:14:48,804 ERROR Check unique ID endpoint client exception (DBQuery): 
2025-07-12 16:16:20,195 INFO Closing Oracle connection pool
2025-07-12 16:16:24,970 INFO App started
2025-07-12 16:16:39,378 ERROR Check unique ID endpoint client exception (DBQuery): DPY-4009: 3 positional bind values are required but 2 were provided
2025-07-12 16:18:43,938 INFO Closing Oracle connection pool
2025-07-12 16:18:47,834 INFO App started
2025-07-12 16:18:53,145 INFO Closing Oracle connection pool
2025-07-12 16:18:57,524 INFO App started
2025-07-12 16:18:58,467 INFO Closing Oracle connection pool
2025-07-12 16:19:02,480 INFO App started
2025-07-12 16:19:11,303 ERROR Check unique ID endpoint client exception (DBQuery): DPY-4009: 3 positional bind values are required but 2 were provided
2025-07-12 16:20:40,885 INFO Closing Oracle connection pool
2025-07-12 16:20:45,118 INFO App started
2025-07-12 16:20:54,555 ERROR Check unique ID endpoint client exception (DBQuery): DPY-4009: 3 positional bind values are required but 2 were provided
2025-07-12 16:24:01,184 INFO Closing Oracle connection pool
2025-07-12 16:24:06,519 INFO App started
2025-07-12 16:24:11,153 INFO Closing Oracle connection pool
2025-07-12 16:24:15,194 INFO App started
2025-07-12 16:24:18,099 INFO Closing Oracle connection pool
2025-07-12 16:24:21,931 INFO App started
2025-07-12 16:24:40,471 ERROR Check unique ID endpoint client exception (UniqueIdExists): 
2025-07-12 16:24:47,363 ERROR Check unique ID endpoint client exception (BrokerNotFound): Broker not found in Broker Reference TABLE
2025-07-12 16:25:03,064 INFO Closing Oracle connection pool
2025-07-12 16:25:07,097 INFO App started
2025-07-12 16:25:20,184 ERROR Check unique ID endpoint client exception (UniqueIdExists): 
2025-07-12 16:25:31,574 INFO All brokers extracted in 0.01 seconds
2025-07-12 16:25:44,017 INFO Closing Oracle connection pool
2025-07-12 16:25:48,121 INFO App started
2025-07-12 16:58:28,612 INFO Closing Oracle connection pool
